"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[51093],{2131:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/inspect-c3dd71da21a2c678311dbd87b32791bf.webp"},28453:(e,n,t)=>{t.d(n,{R:()=>i,x:()=>r});var s=t(96540);const o={},a=s.createContext(o);function i(e){const n=s.useContext(a);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),s.createElement(a.Provider,{value:n},e.children)}},30544:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots6-c212faa63e55f07becf897d34244b532.webp"},39197:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots5-a64794ce166ba8f89573b1c9996f6d03.webp"},44591:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots3-4d33fbdbea8951dbf84a03cff10e74b3.webp"},45351:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>h,contentTitle:()=>r,default:()=>d,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"build/workflow-snapshots","title":"Workflow Snapshots","description":"Workflow snapshots capture and store a state/version of a workflow (a combination of input, workflow configuration and job code) at a specific point in time when a workflow was updated or run. Snapshots are helpful with debugging, auditing, and improving overall workflow performance.","source":"@site/docs/build/workflow-snapshots.md","sourceDirName":"build","slug":"/workflow-snapshots","permalink":"/documentation/workflow-snapshots","draft":false,"unlisted":false,"editUrl":"https://github.com/openfn/docs/edit/main/docs/build/workflow-snapshots.md","tags":[],"version":"current","frontMatter":{"title":"Workflow Snapshots","sidebar_label":"Workflow Snapshots","slug":"/workflow-snapshots"},"sidebar":"docs","previous":{"title":"Troubleshooting","permalink":"/documentation/build/troubleshooting"},"next":{"title":"Workflows API","permalink":"/documentation/build/workflows-api"}}');var o=t(74848),a=t(28453);const i={title:"Workflow Snapshots",sidebar_label:"Workflow Snapshots",slug:"/workflow-snapshots"},r=void 0,h={},l=[{value:"When is a snapshot made?",id:"when-is-a-snapshot-made",level:3},{value:"How can I view a snapshot?",id:"how-can-i-view-a-snapshot",level:3},{value:"Viewing a snapshot by inspecting a step in the run",id:"viewing-a-snapshot-by-inspecting-a-step-in-the-run",level:4},{value:"Viewing a snapshot from the Run view",id:"viewing-a-snapshot-from-the-run-view",level:4},{value:"Editing a Snapshot",id:"editing-a-snapshot",level:3},{value:"Retrying a Snapshot",id:"retrying-a-snapshot",level:3},{value:"Snapshots and Version Control",id:"snapshots-and-version-control",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",...(0,a.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.p,{children:"Workflow snapshots capture and store a state/version of a workflow (a combination of input, workflow configuration and job code) at a specific point in time when a workflow was updated or run. Snapshots are helpful with debugging, auditing, and improving overall workflow performance."}),"\n",(0,o.jsx)(n.h3,{id:"when-is-a-snapshot-made",children:"When is a snapshot made?"}),"\n",(0,o.jsx)(n.p,{children:"Snapshots are created in 2 ways:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"When a user saves changes to their workflow either through the canvas or the Inspector"}),"\n",(0,o.jsx)(n.li,{children:"When a run is made either by creating a new work order or retrying a run"}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"how-can-i-view-a-snapshot",children:"How can I view a snapshot?"}),"\n",(0,o.jsxs)(n.p,{children:["To view a snapshot, go to the ",(0,o.jsx)(n.code,{children:"History"})," page. Expand a work order to see the runs included."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot1",src:t(60969).A+"",width:"1406",height:"777"})}),"\n",(0,o.jsx)(n.p,{children:"From the expanded history view, there are two ways to visualize snapshots:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsx)(n.li,{children:"By inspecting a step in the run"}),"\n",(0,o.jsx)(n.li,{children:"From the Run view"}),"\n"]}),"\n",(0,o.jsx)(n.h4,{id:"viewing-a-snapshot-by-inspecting-a-step-in-the-run",children:"Viewing a snapshot by inspecting a step in the run"}),"\n",(0,o.jsx)(n.p,{children:"Click on the inspect icon in front of the step you would like to view."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Inspect",src:t(2131).A+"",width:"685",height:"421"})}),"\n",(0,o.jsxs)(n.p,{children:["This will open the ",(0,o.jsx)(n.a,{href:"/documentation/build/steps/step-editor",children:"inspector screen"})," for that step in the run with all associated artifacts: logs and input/output data. On the inspector, you'll notice that you're in a read-only mode, and hovering on the workflow snapshot ID chip, you\u2019ll see a message that reads \u201cYou are viewing a snapshot of this workflow that was taken on \u2026.\u201d"]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot2",src:t(93004).A+"",width:"1917",height:"891"})}),"\n",(0,o.jsxs)(n.p,{children:["To view the corresponding canvas for this snapshot, close this inspector view by clicking the ",(0,o.jsx)(n.code,{children:"X"})," on the top right corner of the page. This will open the associated canvas with the step selected as shown below."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot3",src:t(44591).A+"",width:"1307",height:"761"})}),"\n",(0,o.jsx)(n.p,{children:"From the canvas, you can inspect any step by clicking on the step and opening the inspector for the run associated with the step and snapshot."}),"\n",(0,o.jsx)(n.h4,{id:"viewing-a-snapshot-from-the-run-view",children:"Viewing a snapshot from the Run view"}),"\n",(0,o.jsx)(n.p,{children:"From the expanded history view, click on the run ID to open the run view."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot4",src:t(79282).A+"",width:"1195",height:"787"})}),"\n",(0,o.jsx)(n.p,{children:"From this view, click on the Workflow name (Simple Flow) to open the workflow canvas for this snapshot.\nSimilar to viewing a snapshot by inspecting a step, you can click the inspect icon in front of the steps to open the inspector for the step."}),"\n",(0,o.jsx)(n.h3,{id:"editing-a-snapshot",children:"Editing a Snapshot"}),"\n",(0,o.jsxs)(n.p,{children:["Snapshots are read-only and serve as a reference for the state of a workflow when saved or a run is executed. As only the latest version can be edited, in order to edit the workflow you can click on the ",(0,o.jsx)(n.code,{children:"Switch to latest version"})," on the canvas or use the toggle at the bottom right of the inspector page to switch to the latest version of the workflow."]}),"\n",(0,o.jsxs)(n.p,{children:["When you switch to the latest version, the snapshot ID tag will change to blue colour and the text will be ",(0,o.jsx)(n.code,{children:"latest"}),"."]}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot5",src:t(39197).A+"",width:"1267",height:"671"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.img,{alt:"Snapshot6",src:t(30544).A+"",width:"1275",height:"757"})}),"\n",(0,o.jsx)(n.h3,{id:"retrying-a-snapshot",children:"Retrying a Snapshot"}),"\n",(0,o.jsx)(n.p,{children:"When retrying a run with a snapshot, the retry will be executed with the latest version of the workflow and job code. You cannot retry a workflow with an earlier snapshot, only with the latest version."}),"\n",(0,o.jsx)(n.h3,{id:"snapshots-and-version-control",children:"Snapshots and Version Control"}),"\n",(0,o.jsx)(n.p,{children:"As they save a workflow as a particular set of configuration, input data and job code, snapshots are mainly tools to help administrators with auditing and dealing with errors (such as, for example, why a case hasn't been updated correctly in a database)."}),"\n",(0,o.jsxs)(n.p,{children:["OpenFn offers dedicated tools for ",(0,o.jsx)(n.a,{href:"/documentation/link-to-GitHub",children:"version control"})," that allows you and your team to manage changes in job code for faster and safer development, debugging and revision."]})]})}function d(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},60969:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots1-829f88eea17c34c1507c9e721117d76a.webp"},79282:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots4-411a2da650c5767014c19fbf3d0a4025.webp"},93004:(e,n,t)=>{t.d(n,{A:()=>s});const s=t.p+"assets/images/snapshots2-2460366acb2992b6dd158d9cae9debe2.webp"}}]);