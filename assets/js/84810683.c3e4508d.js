"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[81271],{10986:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>h});const r=JSON.parse('{"id":"packages/common-docs","title":"common@2.5.0","description":"arrayToString(arr, separator)","source":"@site/adaptors/packages/common-docs.md","sourceDirName":"packages","slug":"/packages/common-docs","permalink":"/adaptors/packages/common-docs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"common@2.5.0","id":"common-docs","keywords":["adaptor","common","arrayToString","asData","assert","chunk","combine","composeNextState","cursor","dataPath","dataValue","debug","each","execute","expandReferences","field","fields","fn","fnIf","group","humanProper","index","join","jsonValue","lastReferenceValue","log","map","merge","parseCsv","referencePath","scrubEmojis","source","sourceValue","splitKeys","toArray"]},"sidebar":"adaptors","previous":{"title":"Overview","permalink":"/adaptors/common"},"next":{"title":"Configuration","permalink":"/adaptors/packages/common-configuration-schema"}}');var t=n(74848),d=n(28453);const i={title:"common@2.5.0",id:"common-docs",keywords:["adaptor","common","arrayToString","asData","assert","chunk","combine","composeNextState","cursor","dataPath","dataValue","debug","each","execute","expandReferences","field","fields","fn","fnIf","group","humanProper","index","join","jsonValue","lastReferenceValue","log","map","merge","parseCsv","referencePath","scrubEmojis","source","sourceValue","splitKeys","toArray"]},c=void 0,l={},h=[{value:"Functions",id:"functions",level:2},{value:"arrayToString",id:"arraytostring",level:3},{value:"asData",id:"asdata",level:3},{value:"assert",id:"assert",level:3},{value:"chunk",id:"chunk",level:3},{value:"combine",id:"combine",level:3},{value:"composeNextState",id:"composenextstate",level:3},{value:"cursor",id:"cursor",level:3},{value:"dataPath",id:"datapath",level:3},{value:"dataValue",id:"datavalue",level:3},{value:"debug",id:"debug",level:3},{value:"each",id:"each",level:3},{value:"expandReferences",id:"expandreferences",level:3},{value:"field",id:"field",level:3},{value:"fields",id:"fields",level:3},{value:"fn",id:"fn",level:3},{value:"fnIf",id:"fnif",level:3},{value:"group",id:"group",level:3},{value:"humanProper",id:"humanproper",level:3},{value:"index",id:"index",level:3},{value:"join",id:"join",level:3},{value:"jsonValue",id:"jsonvalue",level:3},{value:"lastReferenceValue",id:"lastreferencevalue",level:3},{value:"log",id:"log",level:3},{value:"map",id:"map",level:3},{value:"merge",id:"merge",level:3},{value:"parseCsv",id:"parsecsv",level:3},{value:"referencePath",id:"referencepath",level:3},{value:"scrubEmojis",id:"scrubemojis",level:3},{value:"source",id:"source",level:3},{value:"sourceValue",id:"sourcevalue",level:3},{value:"splitKeys",id:"splitkeys",level:3},{value:"toArray",id:"toarray",level:3},{value:"util",id:"util",level:2},{value:"util.decode",id:"util_decode",level:3},{value:"util.encode",id:"util_encode",level:3},{value:"util.uuid",id:"util_uuid",level:3},{value:"beta",id:"beta",level:2},{value:"beta.each",id:"beta_each",level:3},{value:"dateFns",id:"datefns",level:2},{value:"dateFns.format",id:"dateFns_format",level:3},{value:"dateFns.parse",id:"dateFns_parse",level:3},{value:"http",id:"http",level:2},{value:"http.get",id:"http_get",level:3},{value:"http.options",id:"http_options",level:3},{value:"http.post",id:"http_post",level:3},{value:"http.request",id:"http_request",level:3},{value:"Interfaces",id:"interfaces",level:2},{value:"CommonRequestOptions",id:"commonrequestoptions",level:3},{value:"OptionsHelpers",id:"optionshelpers",level:3}];function a(e){const s={a:"a",br:"br",code:"code",em:"em",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#arraytostring",children:"arrayToString(arr, separator)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#asdata",children:"asData(data, state)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#assert",children:"assert(expression, errorMessage)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#chunk",children:"chunk(array, chunkSize)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#combine",children:"combine(operations)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#composenextstate",children:"composeNextState(state, response)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#cursor",children:"cursor(value, options)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#datapath",children:"dataPath(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#datavalue",children:"dataValue(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#debug",children:"debug(args)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#each",children:"each(dataSource, operation)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#expandreferences",children:"expandReferences(value, [skipFilter])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#field",children:"field(key, value)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#fields",children:"fields(fields)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#fn",children:"fn(func)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#fnif",children:"fnIf(condition, operation)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#group",children:"group(arrayOfObjects, keyPath, callback)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#humanproper",children:"humanProper(str)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#index",children:"index()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#join",children:"join(targetPath, sourcePath, targetKey)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#jsonvalue",children:"jsonValue(obj, path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#lastreferencevalue",children:"lastReferenceValue(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#log",children:"log(args)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#map",children:"map(path, operation, state)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#merge",children:"merge(dataSource, fields)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#parsecsv",children:"parseCsv(csvData, [parsingOptions], [callback])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#referencepath",children:"referencePath(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#scrubemojis",children:"scrubEmojis(text, replacementChars)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#source",children:"source(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#sourcevalue",children:"sourceValue(path)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#splitkeys",children:"splitKeys(obj, keys)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#toarray",children:"toArray(arg)"})})]}),"\n",(0,t.jsx)(s.p,{children:"This adaptor exports the following namespaced functions:"}),"\n",(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#util_decode",children:"util.decode(base64Data, options)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#util_encode",children:"util.encode(data, options)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#util_uuid",children:"util.uuid()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#beta_each",children:"beta.each(dataSource, operation)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#dateFns_format",children:"dateFns.format()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#dateFns_parse",children:"dateFns.parse()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_get",children:"http.get(url, options)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_options",children:"http.options(opts)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_post",children:"http.post(url, data, options)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_request",children:"http.request(method, url, options)"})})]}),"\n",(0,t.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsx)(s.h3,{id:"arraytostring",children:"arrayToString"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"arrayToString(arr, separator) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Turns an array into a string, separated by X."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"arr"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"array"})}),(0,t.jsx)(s.td,{children:"Array of toString'able primatives."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"separator"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"Separator string."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'field("destination_string__c", function(state) {\n  return arrayToString(dataValue("path_of_array")(state), \', \')\n})\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"asdata",children:"asData"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"asData(data, state) \u21d2 array"})}),"\n",(0,t.jsx)(s.p,{children:"Simple switcher allowing other expressions to use either a JSONPath or\nobject literals as a data source."}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state"})]}),"\n",(0,t.jsx)(s.li,{children:"Object Literal of the data itself."}),"\n",(0,t.jsx)(s.li,{children:"Function to be called with state."}),"\n"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"String"})," | ",(0,t.jsx)("code",{children:"object"})," | ",(0,t.jsx)("code",{children:"function"})]}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"state"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"The current state."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"asData('$.key'| key | callback)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"assert",children:"assert"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"assert(expression, errorMessage) \u21d2 operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Asserts the given expression or function resolves to ",(0,t.jsx)(s.code,{children:"true"}),", or else throws an exception. Optionally accepts and error message."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"expression"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"The expression or function to be evaluated."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"errorMessage"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The error message thrown in case of a failed state."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"assert('a' === 'b', '\"a\" is not equal to \"b\"')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"chunk",children:"chunk"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"chunk(array, chunkSize) \u21d2 Object"})}),"\n",(0,t.jsx)(s.p,{children:"Chunks an array into an array of arrays, each with no more than a certain size."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"array"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(s.td,{children:"Array to be chunked"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"chunkSize"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Integer"})}),(0,t.jsx)(s.td,{children:"The maxiumum size of each chunks"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"chunk([1,2,3,4,5], 2)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"combine",children:"combine"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"combine(operations) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Combines two operations into one"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operations"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Operations"})}),(0,t.jsx)(s.td,{children:"Operations to be performed."})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"combine(\n  create('foo'),\n  delete('bar')\n)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"composenextstate",children:"composeNextState"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"composeNextState(state, response) \u21d2 State"})}),"\n",(0,t.jsx)(s.p,{children:"Prepares next state"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"state"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"State"})}),(0,t.jsx)(s.td,{children:"state"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"response"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(s.td,{children:"Response to be added"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"composeNextState(state, response)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"cursor",children:"cursor"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"cursor(value, options) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Sets a cursor property on state.\nSupports natural language dates like ",(0,t.jsx)(s.code,{children:"now"}),", ",(0,t.jsx)(s.code,{children:"today"}),", ",(0,t.jsx)(s.code,{children:"yesterday"}),", ",(0,t.jsx)(s.code,{children:"n hours ago"}),", ",(0,t.jsx)(s.code,{children:"n days ago"}),", and ",(0,t.jsx)(s.code,{children:"start"}),",\nwhich will be converted relative to the environment (ie, the Lightning or CLI locale). Custom timezones\nare not yet supported.\nYou can provide a formatter to customise the final cursor value, which is useful for normalising\ndifferent inputs. The custom formatter runs after natural language date conversion.\nSee the usage guide at ",(0,t.jsx)(s.a,{href:"https://docs.openfn.org/documentation/jobs/job-writing-guide#using-cursors",children:"https://docs.openfn.org/documentation/jobs/job-writing-guide#using-cursors"})]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"value"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"the cursor value. Usually an ISO date, natural language date, or page number"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"options to control the cursor."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options.key"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"set the cursor key. Will persist through the whole run."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options.defaultValue"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"the value to use if value is falsy"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options.format"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"custom formatter for the final cursor value"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Use a cursor from state if present, or else use the default value"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"cursor($.cursor, { defaultValue: 'today' })\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Use a pagination cursor"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"cursor(22)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"datapath",children:"dataPath"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"dataPath(path) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Ensures a path points at the data."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"data"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"dataPath('key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"datavalue",children:"dataValue"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"dataValue(path) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Picks out a single value from the source data object\u2014usually ",(0,t.jsx)(s.code,{children:"state.data"}),".\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"data"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"dataValue('key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"debug",children:"debug"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"debug(args) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Outputs a message to the console with the debug log level. This is usually filtered out by default. Use this at the top level of your job code, but not inside callbacks."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"args"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"A value or message to display in the logs"})]})})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Log values from state"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"debug('Patient List::', $.patients);\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Use console.debug inside a callback or fn block"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"fn((state) => {\n  console.debug(state.data);\n  return state;\n})\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"each",children:"each"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"each(dataSource, operation) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Iterates over an array of items and invokes an operation upon each one, where the state\nobject is ",(0,t.jsx)(s.em,{children:"scoped"})," so that state.data is the item under iteration.\nThe rest of the state object is untouched and can be referenced as usual.\nYou can pass an array directly, or use lazy state or a JSONPath string to\nreference a slice of state."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"dataSource"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"DataSource"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operation"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Operation"})}),(0,t.jsx)(s.td,{children:"The operation needed to be repeated."})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),' Using lazy state ($) to iterate over items in state.data and pass each into an "insert" operation']}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'each(\n  $.data,\n  // Inside the callback operation, `$.data` is scoped to the item under iteration\n  insert("patient", {\n    patient_name: $.data.properties.case_name,\n    patient_id: $.data.case_id,\n  })\n);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),' Iterate over items in state.data and pass each one into an "insert" operation']}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'each(\n  $.data,\n  insert("patient", (state) => ({\n    patient_id: state.data.case_id,\n    ...state.data\n  }))\n);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),' Using JSON path to iterate over items in state.data and pass each one into an "insert" operation']}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'each(\n  "$.data[*]",\n  insert("patient", (state) => ({\n    patient_name: state.data.properties.case_name,\n    patient_id: state.data.case_id,\n  }))\n);\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"expandreferences",children:"expandReferences"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"expandReferences(value, [skipFilter]) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Recursively resolves objects that have resolvable values (functions)."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"value"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"data"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[skipFilter]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"a function which returns true if a value should be skipped"})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"field",children:"field"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"field(key, value) \u21d2 Field"})}),"\n",(0,t.jsx)(s.p,{children:"Returns a key, value pair in an array."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"key"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"Name of the field"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"value"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Value"})}),(0,t.jsx)(s.td,{children:"The value itself or a sourceable operation."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"field('destination_field_name__c', 'value')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"fields",children:"fields"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"fields(fields) \u21d2 Object"})}),"\n",(0,t.jsx)(s.p,{children:"Zips key value pairs into an object."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"fields"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Fields"})}),(0,t.jsx)(s.td,{children:"a list of fields"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"fields(list_of_fields)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"fn",children:"fn"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"fn(func) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Creates a custom step (or operation) for more flexible job writing."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"func"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"is the function"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"fn(state => {\n  // do some things to state\n  return state;\n});\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"fnif",children:"fnIf"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"fnIf(condition, operation) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"A custom operation that will only execute the function if the condition returns true"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"condition"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Boolean"})}),(0,t.jsx)(s.td,{children:"The condition that returns true"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operation"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Operation"})}),(0,t.jsx)(s.td,{children:"The operation needed to be executed."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'fnIf((state) => state?.data?.name, get("https://example.com"));\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"group",children:"group"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"group(arrayOfObjects, keyPath, callback) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Groups an array of objects by a specified key path."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"arrayOfObjects"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Array.<Object>"})}),(0,t.jsx)(s.td,{children:"The array of objects to be grouped."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"keyPath"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The key path to group by."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"callback"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"(Optional) Callback function"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const users = [\n  { name: 'Alice', age: 25, city: 'New York' },\n  { name: 'Bob', age: 30, city: 'San Francisco' },\n  { name: 'Charlie', age: 25, city: 'New York' },\n  { name: 'David', age: 30, city: 'San Francisco' }\n];\ngroup(users, 'city');\n// state is { data: { 'New York': [/Alice, Charlie/], 'San Francisco': [ /Bob, David / ] }\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"humanproper",children:"humanProper"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"humanProper(str) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Substitutes underscores for spaces and proper-cases a string"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"str"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"String that needs converting"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'field("destination_string__c", humanProper(state.data.path_to_string))\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"index",children:"index"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"index() \u21d2 DataSource"})}),"\n",(0,t.jsxs)(s.p,{children:["Returns the index of the current array being iterated.\nTo be used with ",(0,t.jsx)(s.code,{children:"each"})," as a data source."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"index()\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"join",children:"join"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"join(targetPath, sourcePath, targetKey) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Adds data from a target object"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"targetPath"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsx)(s.td,{children:"Target path"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sourcePath"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsx)(s.td,{children:"Source path"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"targetKey"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsx)(s.td,{children:"Target Key"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"join('$.key','$.data','newKey')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"jsonvalue",children:"jsonValue"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"jsonValue(obj, path) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Picks out a single value from a JSON object.\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"obj"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"A valid JSON object."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsx)(s.td,{children:"JSONPath referencing a point in given JSON object."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"jsonValue({ a:1 }, 'a')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"lastreferencevalue",children:"lastReferenceValue"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"lastReferenceValue(path) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Picks out the last reference value from source data."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"references"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"lastReferenceValue('key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"log",children:"log"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"log(args) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Outputs a message, like calling ",(0,t.jsx)(s.code,{children:"console.log"}),". Use this at the top level of your job code, but not inside callbacks."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"args"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"A value or message to display in the logs"})]})})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Log values from state"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"log('Patient List::', $.patients);\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Use console.log inside a callback or fn block"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"fn((state) => {\n  console.log(state.data);\n  return state;\n})\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"map",children:"map"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"map(path, operation, state) \u21d2 State"})}),"\n",(0,t.jsxs)(s.p,{children:["Scopes an array of data based on a JSONPath.\nUseful when the source data has ",(0,t.jsx)(s.code,{children:"n"})," items you would like to map to\nan operation.\nThe operation will receive a slice of the data based of each item\nof the JSONPath provided."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state.data"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operation"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"The operation needed to be repeated."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"state"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"State"})}),(0,t.jsx)(s.td,{children:"Runtime state."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'map("$.[*]",\n  create("SObject",\n    field("FirstName", sourceValue("$.firstName"))\n  )\n)\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"merge",children:"merge"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"merge(dataSource, fields) \u21d2 DataSource"})}),"\n",(0,t.jsx)(s.p,{children:"Merges fields into each item in an array."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"dataSource"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"DataSource"})}),(0,t.jsx)(s.td,{})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"fields"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(s.td,{children:"Group of fields to merge in."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'merge(\n  "$.books[*]",\n  fields(\n    field( "publisher", sourceValue("$.publisher") )\n  )\n)\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"parsecsv",children:"parseCsv"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"parseCsv(csvData, [parsingOptions], [callback]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Takes a CSV file string or stream and parsing options as input, and returns a promise that\nresolves to the parsed CSV data as an array of objects.\nOptions for ",(0,t.jsx)(s.code,{children:"parsingOptions"})," include:"]}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"delimiter"})," {string/Buffer/[string/Buffer]} - Defines the character(s) used to delineate the fields inside a record. Default: ",(0,t.jsx)(s.code,{children:"','"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"quote"})," {string/Buffer/[string/Buffer]} - Defines the characters used to surround a field. Default: ",(0,t.jsx)(s.code,{children:"'\"'"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"escape"})," {Buffer/string/null/boolean} - Set the escape character as one character/byte only. Default: ",(0,t.jsx)(s.code,{children:'"'})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"columns"})," {boolean / array / function} - Generates record in the form of object literals. Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"bom"})," {boolean} - Strips the ",(0,t.jsx)(s.a,{href:"https://en.wikipedia.org/wiki/Byte_order_mark",children:"byte order mark (BOM)"})," from the input string or buffer. Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"trim"})," {boolean} - Ignore whitespace characters immediately around the ",(0,t.jsx)(s.code,{children:"delimiter"}),". Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"ltrim"})," {boolean} - Ignore whitespace characters from the left side of a CSV field. Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"rtrim"})," {boolean} - Ignore whitespace characters from the right side of a CSV field. Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"chunkSize"})," {number} - The size of each chunk of CSV data. Default: ",(0,t.jsx)(s.code,{children:"Infinity"})]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"skip_empty_lines"})," {boolean} - Ignore empty lines in the CSV file. Default: ",(0,t.jsx)(s.code,{children:"true"})]}),"\n"]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"Operation"})," - The function returns a Promise that resolves to the result of parsing a CSV ",(0,t.jsx)(s.code,{children:"stringOrStream"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"csvData"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"String"})," | ",(0,t.jsx)("code",{children:"Stream"})]}),(0,t.jsx)(s.td,{children:"A CSV string or a readable stream"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[parsingOptions]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(s.td,{children:"Optional. Parsing options for converting CSV to JSON."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[callback]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"(Optional) callback function. If used it will be called state and an array of rows."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"referencepath",children:"referencePath"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"referencePath(path) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Ensures a path points at references."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"references"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"referencePath('key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"scrubemojis",children:"scrubEmojis"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"scrubEmojis(text, replacementChars) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Replaces emojis in a string."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"text"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"String that needs to be cleaned"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"replacementChars"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"Characters that replace the emojis"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"scrubEmojis('Dove\ud83d\udd4a\ufe0f\u2b50 29')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"source",children:"source"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"source(path) \u21d2 Array.<(String|Object)>"})}),"\n",(0,t.jsxs)(s.p,{children:["Picks out a value from source data.\nWill return whatever JSONPath returns, which will always be an array.\nIf you need a single value use ",(0,t.jsx)(s.code,{children:"sourceValue"})," instead."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"source('$.key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"sourcevalue",children:"sourceValue"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"sourceValue(path) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Picks out a single value from source data.\nIf a JSONPath returns more than one value for the reference, the first\nitem will be returned."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"String"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state"}),"."]})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"sourceValue('$.key')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"splitkeys",children:"splitKeys"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"splitKeys(obj, keys) \u21d2 Array.<Object>"})}),"\n",(0,t.jsx)(s.p,{children:"Splits an object into two objects based on a list of keys.\nThe first object contains the keys that are not in the list,\nand the second contains the keys that are."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"Array.<Object>"})," - - Tuple of objects, first object contains keys not in list, second contains keys that are."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"obj"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Object"})}),(0,t.jsx)(s.td,{children:"The object to split."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"keys"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Array.<string>"})}),(0,t.jsx)(s.td,{children:"List of keys to split on."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"toarray",children:"toArray"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"toArray(arg) \u21d2 array"})}),"\n",(0,t.jsx)(s.p,{children:"Ensures primitive data types are wrapped in an array.\nDoes not affect array objects."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"arg"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"any"})}),(0,t.jsx)(s.td,{children:"Data required to be in an array"})]})})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'each(function(state) {\n  return toArray( dataValue("path_of_array")(state) )\n}, ...)\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"util",children:"util"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the util namespace."}),"\n",(0,t.jsx)(s.h3,{id:"util_decode",children:"util.decode"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"decode(base64Data, options) \u21d2 string | object"})}),"\n",(0,t.jsx)(s.p,{children:"Decodes a Base64 encoded string back to its original format."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"string"})," | ",(0,t.jsx)("code",{children:"object"})," - - The decoded string or JavaScript Object."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"base64Data"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"The Base64 encoded string."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Options."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options.parseJson]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"true"})}),(0,t.jsx)(s.td,{children:"If false, no attempt will be made to parse the decoded data into a JSON object."})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Decode a Base64 string"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const decoded = util.decode('SGVsbG8gV29ybGQ=');\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Decode a Base64 JSON object to a standard JavaScript object"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const decoded = util.decode('eyJuYW1lIjoiSmFuZSBEb2UifQ==');\nconsole.log(decoded); // Output: {name: 'Jane Doe' }\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," To skip the JSON stringification step"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const decodedString = util.decode('Hello World', { parseJson: false })\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"util_encode",children:"util.encode"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"encode(data, options) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Encodes a given string or Javascript object into Base64 format."}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"string"})," - - The Base64 encoded string."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"string"})," | ",(0,t.jsx)("code",{children:"object"})]}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"The string or object to be encoded."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Options"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options.parseJson]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"true"})}),(0,t.jsx)(s.td,{children:"If false, no attempt will be made to stringiy the data before encoding it."})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Encode a string"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const encodedString = util.encode('Hello World');\nconsole.log(encoded); // Output: SGVsbG8gV29ybGQ=\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Encode an object"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const encodedObject = util.encode({name: 'Jane Doe' })\nconsole.log(encodedObject); //output eyJuYW1lIjoiSmFuZSBEb2UifQ==\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," To skip the JSON stringification step"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const encodedObject = util.encode('Hello World', { parseJson: false })\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"util_uuid",children:"util.uuid"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"uuid() \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Generates a UUID (Universally Unique Identifier)"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"string"})," - - A newly generated UUID",(0,t.jsx)(s.br,{}),"\n",(0,t.jsx)(s.strong,{children:"Example:"})," Generate a UUID"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"const id = util.uuid();\nconsole.log(id); // Output:'3f4e254e-8f6f-4f8b-9651-1c1c262cc83f'\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"beta",children:"beta"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the beta namespace."}),"\n",(0,t.jsx)(s.h3,{id:"beta_each",children:"beta.each"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"each(dataSource, operation) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Scopes an array of data based on a JSONPath.\nUseful when the source data has ",(0,t.jsx)(s.code,{children:"n"})," items you would like to map to\nan operation.\nThe operation will receive a slice of the data based of each item\nof the JSONPath provided."]}),"\n",(0,t.jsx)(s.p,{children:"It also ensures the results of an operation make their way back into\nthe state's references."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"dataSource"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"DataSource"})}),(0,t.jsxs)(s.td,{children:["JSONPath referencing a point in ",(0,t.jsx)(s.code,{children:"state"}),"."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operation"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"Operation"})}),(0,t.jsx)(s.td,{children:"The operation needed to be repeated."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Example"})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'each("$.[*]",\n   create("SObject",\n   field("FirstName", sourceValue("$.firstName")))\n )\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"datefns",children:"dateFns"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the dateFns namespace."}),"\n",(0,t.jsx)(s.h3,{id:"dateFns_format",children:"dateFns.format"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"format()"})}),"\n",(0,t.jsxs)(s.p,{children:["The format function from the date-fns library. See ",(0,t.jsx)(s.a,{href:"https://date-fns.org/v3.6.0/docs/parse",children:"https://date-fns.org/v3.6.0/docs/parse"})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"dateFns_parse",children:"dateFns.parse"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"parse()"})}),"\n",(0,t.jsxs)(s.p,{children:["The parse function from the date-fns library. See ",(0,t.jsx)(s.a,{href:"https://date-fns.org/v3.6.0/docs/parse",children:"https://date-fns.org/v3.6.0/docs/parse"})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"http",children:"http"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the http namespace."}),"\n",(0,t.jsx)(s.h3,{id:"http_get",children:"http.get"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"get(url, options) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Make a GET request."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"url"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"URL to access"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#commonrequestoptions",children:(0,t.jsx)("code",{children:"CommonRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Request options"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"the parsed response body"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"response"}),(0,t.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Request a resource"]}),(0,t.jsx)(s.td,{})]})]})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get('https://jsonplaceholder.typicode.com/todos')\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Request a resource with basic auth"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get(\n 'https://jsonplaceholder.typicode.com/todos',\n http.options().basic('user', 'pass')\n)\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Request a resource with oauth"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get(\n 'https://jsonplaceholder.typicode.com/todos',\n http.options().oauth($.configuration.access_token)\n)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"http_options",children:"http.options"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"options(opts) \u21d2 OptionsHelpers"})}),"\n",(0,t.jsx)(s.p,{children:"Builder function to create request options. Returns an object with helpers to\neasily add commonly used options. The return object is chainable so you can set\nas many options as you want.\nPass an object to set your own options."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"opts"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#optionshelpers",children:(0,t.jsx)("code",{children:"OptionsHelpers"})})}),(0,t.jsx)(s.td,{children:"options to pass to the request"})]})})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Get with a query an oauth token"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get($.data.url, http.options({ query: $.query }).oauth($.configuration.access_token))\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"http_post",children:"http.post"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"post(url, data, options) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Make a POST request."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"url"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"URL to access"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"Body data to append to the request."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#commonrequestoptions",children:(0,t.jsx)("code",{children:"CommonRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Request options"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"the parsed response body"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"response"}),(0,t.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Post a JSON object (setting the content-type header)"]}),(0,t.jsx)(s.td,{})]})]})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'http.post(\n  "https://jsonplaceholder.typicode.com/todos",\n  $.data,\n  http.options().json()\n);\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"http_request",children:"http.request"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"request(method, url, options) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Make a HTTP request."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"method"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The HTTP method to use."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"url"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"URL to resource."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"options"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#commonrequestoptions",children:(0,t.jsx)("code",{children:"CommonRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Request options"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"the parsed response body"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"response"}),(0,t.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:(0,t.jsx)(s.strong,{children:"Example"})}),(0,t.jsx)(s.td,{})]})]})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.request(\n  'GET',\n  'https://jsonplaceholder.typicode.com/todos'\n)\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,t.jsx)(s.h3,{id:"commonrequestoptions",children:"CommonRequestOptions"}),"\n",(0,t.jsx)(s.p,{children:"Options provided to the HTTP request"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"errors"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"object"})," | ",(0,t.jsx)("code",{children:"boolean"})]}),(0,t.jsxs)(s.td,{children:["Map of errorCodes -> error messages, ie, ",(0,t.jsx)(s.code,{children:"{ 404: 'Resource not found;' }"}),". Pass ",(0,t.jsx)(s.code,{children:"false"})," to suppress errors."]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"form"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"Pass a JSON object to be serialised into a multipart HTML form (as FormData) in the body."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"query"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"An object of query parameters to be encoded into the URL."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"headers"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"An object of headers to append to the request."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"parseAs"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"Parse the response body as json, text or stream. By default will use the response headers."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"timeout"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"number"})}),(0,t.jsx)(s.td,{children:"Request timeout in ms. Default: 300 seconds."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"tls"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsxs)(s.td,{children:["TLS/SSL authentication options. See ",(0,t.jsx)(s.a,{href:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions",children:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions"})]})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"optionshelpers",children:"OptionsHelpers"}),"\n",(0,t.jsxs)(s.p,{children:["Helper functions provided by ",(0,t.jsx)(s.code,{children:"http.options"}),"."]}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"json"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"Sets the `content-type' header to 'application/json'"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"basic"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"Sets basic auth on the Authorization header. Pass username and password"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"bearer"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"Sets a Bearer token on the Authorization header. Pass the token."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"oauth"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"function"})}),(0,t.jsx)(s.td,{children:"Sets a Bearer token on the Authorization header. Pass the oauth token."})]})]})]}),"\n",(0,t.jsx)(s.hr,{})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}},28453:(e,s,n)=>{n.d(s,{R:()=>i,x:()=>c});var r=n(96540);const t={},d=r.createContext(t);function i(e){const s=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:i(e.components),r.createElement(d.Provider,{value:s},e.children)}}}]);