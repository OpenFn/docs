"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[16680],{28866:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>p,contentTitle:()=>i,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>s});var o=n(58168),a=(n(96540),n(15680));const r={title:"Community Health Toolkit (CHT)"},i=void 0,l={unversionedId:"cht",id:"cht",title:"Community Health Toolkit (CHT)",description:"About Community Health Toolkit (CHT)",source:"@site/adaptors/cht.md",sourceDirName:".",slug:"/cht",permalink:"/adaptors/cht",draft:!1,tags:[],version:"current",frontMatter:{title:"Community Health Toolkit (CHT)"},sidebar:"adaptors",previous:{title:"chatgpt developer readme",permalink:"/adaptors/packages/chatgpt-readme"},next:{title:"cht@1.0.12",permalink:"/adaptors/packages/cht-docs"}},p={},s=[{value:"About Community Health Toolkit (CHT)",id:"about-community-health-toolkit-cht",level:2},{value:"Integration Options",id:"integration-options",level:2},{value:"CHT &quot;Outbound Push&quot; Setup (CHT-to-OpenFn)",id:"cht-outbound-push-setup-cht-to-openfn",level:3},{value:"How to Extract or Modify CHT Data",id:"how-to-extract-or-modify-cht-data",level:3},{value:"Authentication",id:"authentication",level:2},{value:"Helpful Links",id:"helpful-links",level:2}],u={toc:s},c="wrapper";function h(e){let{components:t,...n}=e;return(0,a.yg)(c,(0,o.A)({},u,n,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"about-community-health-toolkit-cht"},"About Community Health Toolkit (CHT)"),(0,a.yg)("p",null,"The ",(0,a.yg)("a",{parentName:"p",href:"https://communityhealthtoolkit.org/"},"Community Health Toolkit"),' ("CHT") is a\ncollection of open-source technologies and open-access resources developed by a\ncommunity focused on global health equity.'),(0,a.yg)("p",null,"The resources provided through the CHT can be used to build digital health apps\nused at the community, health facility, and health system level."),(0,a.yg)("h2",{id:"integration-options"},"Integration Options"),(0,a.yg)("p",null,"CHT supports 2 primary integration options:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},"Webhook or\n",(0,a.yg)("a",{parentName:"strong",href:"https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/"},'"Outbound Push"')),"\nto forward specified data ",(0,a.yg)("em",{parentName:"p"},"from CHT")," to external systems like OpenFn. This\noption is suited for ",(0,a.yg)("em",{parentName:"p"},"real-time"),", event-based data integration.")),(0,a.yg)("li",{parentName:"ol"},(0,a.yg)("p",{parentName:"li"},(0,a.yg)("strong",{parentName:"p"},(0,a.yg)("a",{parentName:"strong",href:"https://docs.communityhealthtoolkit.org/building/reference/api/"},"REST API")),"\nthat enables external services like OpenFn to (1) ",(0,a.yg)("em",{parentName:"p"},"pull")," data from CHT, or\n(2) to send data ",(0,a.yg)("em",{parentName:"p"},"to CHT")," from external apps. This option is suited for\n",(0,a.yg)("em",{parentName:"p"},"scheduled, bulk syncs")," or workflows that must update data in CHT with\nexternal data sources."))),(0,a.yg)("p",null,"This OpenFn adaptor is designed for working with option #2\n(",(0,a.yg)("a",{parentName:"p",href:"https://docs.communityhealthtoolkit.org/building/reference/api/"},"see CHT docs"),").\nSee ",(0,a.yg)("a",{parentName:"p",href:"/adaptors/packages/cht-docs"},"functions")," for more on how to use this adaptor\nto work with the API."),(0,a.yg)("p",null,"Read on for how to configure the CHT outbound push (option #1) to trigger OpenFn\nworkflows based on CHT record updates."),(0,a.yg)("h3",{id:"cht-outbound-push-setup-cht-to-openfn"},'CHT "Outbound Push" Setup (CHT-to-OpenFn)'),(0,a.yg)("p",null,"To push data from CHT applications to OpenFn, you will need to:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"Create a workflow in OpenFn using the\n",(0,a.yg)("a",{parentName:"li",href:"/documentation/build/triggers#webhook-event-triggers"},"webhook trigger")),(0,a.yg)("li",{parentName:"ol"},"Copy the ",(0,a.yg)("inlineCode",{parentName:"li"},"webhook url")," from the trigger"),(0,a.yg)("li",{parentName:"ol"},"Configure the CHT\n",(0,a.yg)("a",{parentName:"li",href:"https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/"},"Outbound Push"),"\nfeature to forward specified data to OpenFn. Note the following:")),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"When definining the\n",(0,a.yg)("a",{parentName:"li",href:"https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/#destination"},(0,a.yg)("inlineCode",{parentName:"a"},"destination")),",\nspecify your OpenFn ",(0,a.yg)("inlineCode",{parentName:"li"},"webhook url")," as the ",(0,a.yg)("inlineCode",{parentName:"li"},"baseURL"),"."),(0,a.yg)("li",{parentName:"ul"},"No ",(0,a.yg)("inlineCode",{parentName:"li"},"auth")," parameters are required, unless you have configured\n",(0,a.yg)("a",{parentName:"li",href:"/documentation/webhook-security"},"Webhook Security")," on your OpenFn project."),(0,a.yg)("li",{parentName:"ul"},"Define the data to forward to OpenFn in the\n",(0,a.yg)("a",{parentName:"li",href:"https://docs.communityhealthtoolkit.org/apps/reference/app-settings/outbound/#mapping"},(0,a.yg)("inlineCode",{parentName:"a"},"mapping")),'\nproperty. This will structure the payload that is sent to your OpenFn workflow\nas an "Input".')),(0,a.yg)("h3",{id:"how-to-extract-or-modify-cht-data"},"How to Extract or Modify CHT Data"),(0,a.yg)("p",null,(0,a.yg)("strong",{parentName:"p"},"See the available ",(0,a.yg)("a",{parentName:"strong",href:"/adaptors/packages/cht-docs"},"helper functions"))," for a full\nlist of functions supported by this adaptor for extracting and/or modifying CHT\ndata via the\n",(0,a.yg)("a",{parentName:"p",href:"https://docs.communityhealthtoolkit.org/apps/reference/api/"},"CHT API"),"."),(0,a.yg)("p",null,"To fetch data from CHT via OpenFn, you can:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},'Configure a new workflow with a "cron" trigger and define the frequency of\nyour workflow (e.g., daily at 8:00AM)'),(0,a.yg)("li",{parentName:"ol"},'Add a "Get data" step linked to this CHT adaptor'),(0,a.yg)("li",{parentName:"ol"},"Edit the Step and open the Inspector (",(0,a.yg)("inlineCode",{parentName:"li"},"</>"),") to write a basic job using this\nadaptor's ",(0,a.yg)("a",{parentName:"li",href:"/adaptors/packages/cht-docs#get"},(0,a.yg)("inlineCode",{parentName:"a"},"get")),' function to specify which\nAPI endpoint you want to "pull" data from')),(0,a.yg)("p",null,"See ",(0,a.yg)("a",{parentName:"p",href:"/documentation/build/workflows"},"platform docs")," for more guidance on\nbuilding workflows."),(0,a.yg)("h2",{id:"authentication"},"Authentication"),(0,a.yg)("p",null,"The CHT API supports ",(0,a.yg)("inlineCode",{parentName:"p"},"basic authentication"),". OpenFn users can use the ",(0,a.yg)("inlineCode",{parentName:"p"},"cht"),"\ncredential type when\n",(0,a.yg)("a",{parentName:"p",href:"/documentation/manage-projects/manage-credentials"},"creating a credential"),"."),(0,a.yg)("p",null,"See this adaptor's\n",(0,a.yg)("a",{parentName:"p",href:"/adaptors/packages/cht-configuration-schema"},"Configuration docs")," for technical\ndocs on the authentication parameters required. If working locally or if using a\n",(0,a.yg)("inlineCode",{parentName:"p"},"Raw JSON")," credential type, then your configuration will look something like\nthis:"),(0,a.yg)("pre",null,(0,a.yg)("code",{parentName:"pre",className:"language-json"},'{\n  "baseUrl": "https://demo-cht.dev.medicmobile.org",\n  "username": "apiuser",\n  "password": "secret123"\n}\n')),(0,a.yg)("h2",{id:"helpful-links"},"Helpful Links"),(0,a.yg)("ul",null,(0,a.yg)("li",{parentName:"ul"},"API Docs: ",(0,a.yg)("a",{parentName:"li",href:"https://docs.communityhealthtoolkit.org/building/reference/api/"},"https://docs.communityhealthtoolkit.org/building/reference/api/")),(0,a.yg)("li",{parentName:"ul"},"CHT Docs: ",(0,a.yg)("a",{parentName:"li",href:"https://docs.communityhealthtoolkit.org/"},"https://docs.communityhealthtoolkit.org/")),(0,a.yg)("li",{parentName:"ul"},"CHT Community: ",(0,a.yg)("a",{parentName:"li",href:"https://forum.communityhealthtoolkit.org/"},"https://forum.communityhealthtoolkit.org/"))))}h.isMDXComponent=!0},15680:(e,t,n)=>{n.d(t,{xA:()=>u,yg:()=>g});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var p=o.createContext({}),s=function(e){var t=o.useContext(p),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},u=function(e){var t=s(e.components);return o.createElement(p.Provider,{value:t},e.children)},c="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},d=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,r=e.originalType,p=e.parentName,u=l(e,["components","mdxType","originalType","parentName"]),c=s(n),d=a,g=c["".concat(p,".").concat(d)]||c[d]||h[d]||r;return n?o.createElement(g,i(i({ref:t},u),{},{components:n})):o.createElement(g,i({ref:t},u))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var r=n.length,i=new Array(r);i[0]=d;var l={};for(var p in t)hasOwnProperty.call(t,p)&&(l[p]=t[p]);l.originalType=e,l[c]="string"==typeof e?e:a,i[1]=l;for(var s=2;s<r;s++)i[s]=n[s];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}d.displayName="MDXCreateElement"}}]);