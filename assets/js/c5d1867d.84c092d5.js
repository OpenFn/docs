"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[24613],{16062:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/satusehat_credential_edit-7d45a6d144cf9574bb87db3bd8a32f31.webp"},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>r});var a=n(96540);const s={},o=a.createContext(s);function i(e){const t=a.useContext(o);return a.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),a.createElement(o.Provider,{value:t},e.children)}},72383:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>l,frontMatter:()=>i,metadata:()=>a,toc:()=>d});const a=JSON.parse('{"id":"satusehat","title":"Satusehat Adaptor","description":"About Satusehat","source":"@site/adaptors/satusehat.md","sourceDirName":".","slug":"/satusehat","permalink":"/adaptors/satusehat","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Satusehat Adaptor"},"sidebar":"adaptors","previous":{"title":"README.md","permalink":"/adaptors/packages/salesforce-readme"},"next":{"title":"Functions","permalink":"/adaptors/packages/satusehat-docs"}}');var s=n(74848),o=n(28453);const i={title:"Satusehat Adaptor"},r=void 0,c={},d=[{value:"About Satusehat",id:"about-satusehat",level:2},{value:"Mapping Satusehat URLs to Adaptor Functions",id:"mapping-satusehat-urls-to-adaptor-functions",level:2},{value:"Integration Options",id:"integration-options",level:2},{value:"How to Extract or Modify Satusehat Data",id:"how-to-extract-or-modify-satusehat-data",level:2},{value:"Authentication",id:"authentication",level:2},{value:"I&#39;ve noticed a problem with this Adaptor, or something is out of date, what can I do?",id:"ive-noticed-a-problem-with-this-adaptor-or-something-is-out-of-date-what-can-i-do",level:3}];function h(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"about-satusehat",children:"About Satusehat"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://satusehat.kemkes.go.id/platform/docs/id/playbook/introduction/",children:"Satusehat"}),"\nis a health data exchange ecosystem that connects information systems or\napplications from all members of the Indonesian digital health ecosystem\nincluding health facilities, regulators, guarantors, and digital service\nproviders."]}),"\n",(0,s.jsxs)(t.p,{children:["SATUSEHAT uses HL7 ",(0,s.jsx)(t.a,{href:"https://www.hl7.org/fhir/",children:"FHIR"})," (Fast Healthcare\nInteroperability Resources) in implementing standard data models and Application\nProgramming Interfaces (APIs)."]}),"\n",(0,s.jsx)(t.admonition,{title:"FHIR",type:"info",children:(0,s.jsx)(t.p,{children:'FHIR (Fast Healthcare Interoperability Resources) is a global (international)\nstandard that defines the data format and its elements (called " resources ")\nand an application programming interface (API ) standard for information\nexchange'})}),"\n",(0,s.jsxs)(t.p,{children:["The following example shows a HTTP POST request to creating an ",(0,s.jsx)(t.code,{children:"Encounter"})," FHIR\nresource. Data was taken from the\n",(0,s.jsx)(t.a,{href:"https://www.postman.com/satusehat/satusehat-public/request/56uan96/encounter-create",children:"Satusehat Postman Collection"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"post('Encounter', {\n  resourceType: 'Encounter',\n  status: 'arrived',\n  class: {\n    system: 'http://terminology.hl7.org/CodeSystem/v3-ActCode',\n    code: 'AMB',\n    display: 'ambulatory',\n  },\n  subject: {\n    reference: 'Patient/100000030009',\n    display: 'Budi Santoso',\n  },\n  participant: [\n    {\n      type: [\n        {\n          coding: [\n            {\n              system:\n                'http://terminology.hl7.org/CodeSystem/v3-ParticipationType',\n              code: 'ATND',\n              display: 'attender',\n            },\n          ],\n        },\n      ],\n      individual: {\n        reference: 'Practitioner/N10000001',\n        display: 'Dokter Bronsig',\n      },\n    },\n  ],\n  period: {\n    start: '2022-06-14T07:00:00+07:00',\n  },\n  location: [\n    {\n      location: {\n        reference: 'Location/b017aa54-f1df-4ec2-9d84-8823815d7228',\n        display:\n          'Ruang 1A, Poliklinik Bedah Rawat Jalan Terpadu, Lantai 2, Gedung G',\n      },\n    },\n  ],\n  statusHistory: [\n    {\n      status: 'arrived',\n      period: {\n        start: '2022-06-14T07:00:00+07:00',\n      },\n    },\n  ],\n  serviceProvider: {\n    reference: 'Organization/{{Org_id}}',\n  },\n  identifier: [\n    {\n      system: 'http://sys-ids.kemkes.go.id/encounter/{{Org_id}}',\n      value: 'P20240001',\n    },\n  ],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Checkout Satusehat's\n",(0,s.jsx)(t.a,{href:"https://www.postman.com/satusehat/satusehat-public/overview",children:"Postman Collection"}),"\nfor more examples and resources."]}),"\n",(0,s.jsx)(t.h2,{id:"mapping-satusehat-urls-to-adaptor-functions",children:"Mapping Satusehat URLs to Adaptor Functions"}),"\n",(0,s.jsxs)(t.p,{children:["The Satusehat adaptor functions provide convenient HTTP method helpers - like\n",(0,s.jsx)(t.a,{href:"/adaptors/packages/satusehat-docs#get",children:(0,s.jsx)(t.code,{children:"get()"})}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["Each takes a path to a FHIR resource, relative to the baseURL in the\nconfiguration file, and a list of query parameters. Some helpers (like ",(0,s.jsx)(t.code,{children:"post"}),")\nalso take a FHIR resource as a JSON object."]}),"\n",(0,s.jsxs)(t.p,{children:["For example, a request to find an\n",(0,s.jsx)(t.a,{href:"https://www.postman.com/satusehat/satusehat-public/request/ef2ilan/encounter-by-subject",children:"encounter by subject"}),"\nrequires a URL like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{children:"https://api-satusehat-dev.dto.kemkes.go.id/fhir-r4/v1/Encounter?subject=100000030009\n"})}),"\n",(0,s.jsxs)(t.p,{children:["In OpenFn, we would use the ",(0,s.jsx)(t.code,{children:"get"})," function, pass the path as the first argument,\nand the query parameters as the second. Like this:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"get('Encounter', { subject: '100000030009' });\n"})}),"\n",(0,s.jsxs)(t.p,{children:["The result will be written to ",(0,s.jsx)(t.code,{children:"state.data"}),"."]}),"\n",(0,s.jsx)(t.h2,{id:"integration-options",children:"Integration Options"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)(t.strong,{children:(0,s.jsx)(t.a,{href:"https://satusehat.kemkes.go.id/platform/docs/id/postman-workshop/",children:"REST APIs"})}),"\nenable external services like OpenFn to pull data from Satusehat or push data\nto Satusehat from external apps. This option is suitable for scheduled\nworkflows or those that need to update data in Satusehat with external\ninformation."]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"how-to-extract-or-modify-satusehat-data",children:"How to Extract or Modify Satusehat Data"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsxs)(t.strong,{children:["See the available ",(0,s.jsx)(t.a,{href:"/adaptors/packages/satusehat-docs",children:"helper functions"})]})," for\na full list of functions supported by this adaptor for extracting and/or\nmodifying Satusehat data."]}),"\n",(0,s.jsx)(t.p,{children:"To fetch data from Satusehat via OpenFn, you can:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:'Configure a new workflow with a "cron" trigger and define the frequency of\nyour workflow (e.g., daily at 8:00AM)'}),"\n",(0,s.jsx)(t.li,{children:'Add a "Get data" step linked to this Satusehat adaptor'}),"\n",(0,s.jsxs)(t.li,{children:["Edit the Step and open the Inspector (",(0,s.jsx)(t.code,{children:"</>"}),") to write a basic job using this\nadaptor's ",(0,s.jsx)(t.a,{href:"/adaptors/packages/satusehat-docs#get",children:"GET"}),' to specify which data\nyou want to extract or "pull" from Satusehat']}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["See ",(0,s.jsx)(t.a,{href:"/documentation/build/workflows",children:"platform docs"})," for more guidance on\nbuilding workflows."]}),"\n",(0,s.jsx)(t.h2,{id:"authentication",children:"Authentication"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://satusehat.kemkes.go.id/platform/docs/id/api-catalogue/authentication/",children:"See Satusehat docs"}),"\nfor the latest on supported authentication methods."]}),"\n",(0,s.jsx)(t.p,{children:"When integrating with Satusehat via OpenFn, there are 2 primary authentication\nmethods supported:"}),"\n",(0,s.jsxs)(t.ol,{children:["\n",(0,s.jsx)(t.li,{children:"Basic authentication (requires clientId + clientSecret), or"}),"\n",(0,s.jsx)(t.li,{children:"Access token (requires access token created after authenticating in\nSatusehat)"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsxs)(t.strong,{children:["See this adaptor's\n",(0,s.jsx)(t.a,{href:"/adaptors/packages/satusehat-configuration-schema",children:"Configuration docs"})," for more\non required authentication parameters."]})}),"\n",(0,s.jsxs)(t.p,{children:["See platform docs\n",(0,s.jsx)(t.a,{href:"/documentation/manage-projects/manage-credentials",children:"on managing credentials"})," for\nhow to configure a credential in OpenFn and see the below Satusehat credential\nexample."]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.img,{alt:"Satusehat Cred",src:n(16062).A+"",width:"988",height:"1522"})}),"\n",(0,s.jsxs)(t.p,{children:["If you're using the ",(0,s.jsx)(t.code,{children:"Raw JSON"})," credential type, your configuration may look like\nthis:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-json",children:'{\n  "clientId": "your-client-id", // e.g 12345678\n  "clientSecret": "your-client-secret-key", // e.g abcd123456\n  "baseUrl": "your-base-url", // e.g https://api-satusehat-stg.dto.kemkes.go.id\n  "accessToken": "your-access-token" // Don\'t add accessToken if you\'re using client secret and client id\n}\n'})}),"\n",(0,s.jsx)(t.h3,{id:"ive-noticed-a-problem-with-this-adaptor-or-something-is-out-of-date-what-can-i-do",children:"I've noticed a problem with this Adaptor, or something is out of date, what can I do?"}),"\n",(0,s.jsxs)(t.p,{children:["Thanks for asking! We are a fully Open Source Digital Public Good, and we welcome contributions from our community. Check out our ",(0,s.jsx)(t.a,{href:"https://github.com/OpenFn/adaptors/blob/main/wiki/index.md",children:"Adaptors Wiki"})," for more information on how you can update Adaptors!"]}),"\n",(0,s.jsxs)(t.p,{children:["Or, you can always reach out to the Community through our ",(0,s.jsx)(t.a,{href:"https://community.openfn.org/",children:"Community Forum here"}),"."]})]})}function l(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}}}]);