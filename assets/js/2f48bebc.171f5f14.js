"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[51093],{57096:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>d,frontMatter:()=>s,metadata:()=>r,toc:()=>p});var o=n(58168),a=(n(96540),n(15680));const s={title:"Workflow Snapshots",sidebar_label:"Workflow Snapshots",slug:"/workflow-snapshots"},i=void 0,r={unversionedId:"build/workflow-snapshots",id:"build/workflow-snapshots",title:"Workflow Snapshots",description:"Workflow snapshots capture and store a state/version of a workflow (a combination of input, workflow configuration and job code) at a specific point in time when a workflow was updated or run. Snapshots are helpful with debugging, auditing, and improving overall workflow performance.",source:"@site/docs/build/workflow-snapshots.md",sourceDirName:"build",slug:"/workflow-snapshots",permalink:"/documentation/workflow-snapshots",draft:!1,editUrl:"https://github.com/openfn/docs/edit/main/docs/build/workflow-snapshots.md",tags:[],version:"current",frontMatter:{title:"Workflow Snapshots",sidebar_label:"Workflow Snapshots",slug:"/workflow-snapshots"},sidebar:"docs",previous:{title:"Troubleshooting",permalink:"/documentation/build/troubleshooting"},next:{title:"Workflows API",permalink:"/documentation/build/workflows-api"}},l={},p=[{value:"When is a snapshot made?",id:"when-is-a-snapshot-made",level:3},{value:"How can I view a snapshot?",id:"how-can-i-view-a-snapshot",level:3},{value:"Viewing a snapshot by inspecting a step in the run",id:"viewing-a-snapshot-by-inspecting-a-step-in-the-run",level:4},{value:"Viewing a snapshot from the Run view",id:"viewing-a-snapshot-from-the-run-view",level:4},{value:"Editing a Snapshot",id:"editing-a-snapshot",level:3},{value:"Retrying a Snapshot",id:"retrying-a-snapshot",level:3},{value:"Snapshots and Version Control",id:"snapshots-and-version-control",level:3}],h={toc:p},c="wrapper";function d(e){let{components:t,...s}=e;return(0,a.yg)(c,(0,o.A)({},h,s,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("p",null,"Workflow snapshots capture and store a state/version of a workflow (a combination of input, workflow configuration and job code) at a specific point in time when a workflow was updated or run. Snapshots are helpful with debugging, auditing, and improving overall workflow performance."),(0,a.yg)("h3",{id:"when-is-a-snapshot-made"},"When is a snapshot made?"),(0,a.yg)("p",null,"Snapshots are created in 2 ways:"),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"When a user saves changes to their workflow either through the canvas or the Inspector"),(0,a.yg)("li",{parentName:"ol"},"When a run is made either by creating a new work order or retrying a run")),(0,a.yg)("h3",{id:"how-can-i-view-a-snapshot"},"How can I view a snapshot?"),(0,a.yg)("p",null,"To view a snapshot, go to the ",(0,a.yg)("inlineCode",{parentName:"p"},"History")," page. Expand a work order to see the runs included. "),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot1",src:n(5869).A,width:"1406",height:"777"})),(0,a.yg)("p",null,"From the expanded history view, there are two ways to visualize snapshots: "),(0,a.yg)("ol",null,(0,a.yg)("li",{parentName:"ol"},"By inspecting a step in the run"),(0,a.yg)("li",{parentName:"ol"},"From the Run view")),(0,a.yg)("h4",{id:"viewing-a-snapshot-by-inspecting-a-step-in-the-run"},"Viewing a snapshot by inspecting a step in the run"),(0,a.yg)("p",null,"Click on the inspect icon in front of the step you would like to view. "),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Inspect",src:n(57897).A,width:"685",height:"421"})),(0,a.yg)("p",null,"This will open the ",(0,a.yg)("a",{parentName:"p",href:"/documentation/build/steps/step-editor"},"inspector screen")," for that step in the run with all associated artifacts: logs and input/output data. On the inspector, you'll notice that you're in a read-only mode, and hovering on the workflow snapshot ID chip, you\u2019ll see a message that reads \u201cYou are viewing a snapshot of this workflow that was taken on \u2026.\u201d"),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot2",src:n(90454).A,width:"1917",height:"891"})),(0,a.yg)("p",null,"To view the corresponding canvas for this snapshot, close this inspector view by clicking the ",(0,a.yg)("inlineCode",{parentName:"p"},"X")," on the top right corner of the page. This will open the associated canvas with the step selected as shown below. "),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot3",src:n(44255).A,width:"1307",height:"761"})),(0,a.yg)("p",null,"From the canvas, you can inspect any step by clicking on the step and opening the inspector for the run associated with the step and snapshot. "),(0,a.yg)("h4",{id:"viewing-a-snapshot-from-the-run-view"},"Viewing a snapshot from the Run view"),(0,a.yg)("p",null,"From the expanded history view, click on the run ID to open the run view. "),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot4",src:n(16224).A,width:"1195",height:"787"})),(0,a.yg)("p",null,"From this view, click on the Workflow name (Simple Flow) to open the workflow canvas for this snapshot.\nSimilar to viewing a snapshot by inspecting a step, you can click the inspect icon in front of the steps to open the inspector for the step. "),(0,a.yg)("h3",{id:"editing-a-snapshot"},"Editing a Snapshot"),(0,a.yg)("p",null,"Snapshots are read-only and serve as a reference for the state of a workflow when saved or a run is executed. As only the latest version can be edited, in order to edit the workflow you can click on the ",(0,a.yg)("inlineCode",{parentName:"p"},"Switch to latest version")," on the canvas or use the toggle at the bottom right of the inspector page to switch to the latest version of the workflow."),(0,a.yg)("p",null,"When you switch to the latest version, the snapshot ID tag will change to blue colour and the text will be ",(0,a.yg)("inlineCode",{parentName:"p"},"latest"),". "),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot5",src:n(40425).A,width:"1267",height:"671"})),(0,a.yg)("p",null,(0,a.yg)("img",{alt:"Snapshot6",src:n(75890).A,width:"1275",height:"757"})),(0,a.yg)("h3",{id:"retrying-a-snapshot"},"Retrying a Snapshot"),(0,a.yg)("p",null,"When retrying a run with a snapshot, the retry will be executed with the latest version of the workflow and job code. You cannot retry a workflow with an earlier snapshot, only with the latest version."),(0,a.yg)("h3",{id:"snapshots-and-version-control"},"Snapshots and Version Control"),(0,a.yg)("p",null,"As they save a workflow as a particular set of configuration, input data and job code, snapshots are mainly tools to help administrators with auditing and dealing with errors (such as, for example, why a case hasn't been updated correctly in a database). "),(0,a.yg)("p",null,"OpenFn offers dedicated tools for ",(0,a.yg)("a",{parentName:"p",href:"/documentation/link-to-GitHub"},"version control")," that allows you and your team to manage changes in job code for faster and safer development, debugging and revision."))}d.isMDXComponent=!0},15680:(e,t,n)=>{n.d(t,{xA:()=>h,yg:()=>g});var o=n(96540);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function r(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},s=Object.keys(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(o=0;o<s.length;o++)n=s[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var l=o.createContext({}),p=function(e){var t=o.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},h=function(e){var t=p(e.components);return o.createElement(l.Provider,{value:t},e.children)},c="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return o.createElement(o.Fragment,{},t)}},u=o.forwardRef((function(e,t){var n=e.components,a=e.mdxType,s=e.originalType,l=e.parentName,h=r(e,["components","mdxType","originalType","parentName"]),c=p(n),u=a,g=c["".concat(l,".").concat(u)]||c[u]||d[u]||s;return n?o.createElement(g,i(i({ref:t},h),{},{components:n})):o.createElement(g,i({ref:t},h))}));function g(e,t){var n=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var s=n.length,i=new Array(s);i[0]=u;var r={};for(var l in t)hasOwnProperty.call(t,l)&&(r[l]=t[l]);r.originalType=e,r[c]="string"==typeof e?e:a,i[1]=r;for(var p=2;p<s;p++)i[p]=n[p];return o.createElement.apply(null,i)}return o.createElement.apply(null,n)}u.displayName="MDXCreateElement"},57897:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/inspect-6340f40c058525ae37209fc2e41993e7.png"},5869:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots1-fe6160bfcdb5a8bc76fe5f44c0ac6d2a.png"},90454:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots2-72a3b4bae9cf11fd2e5fbea9ee6f80a7.png"},44255:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots3-0e539ec811c797c6e0aa639030bd4290.png"},16224:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots4-5da68b34c6f0b18be8cc2b5cee72e07d.png"},40425:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots5-b937f88c741fd7dfa221beb5ef5328bf.png"},75890:(e,t,n)=>{n.d(t,{A:()=>o});const o=n.p+"assets/images/snapshots6-cb640608dc558365efa1be2afeb3de1c.png"}}]);