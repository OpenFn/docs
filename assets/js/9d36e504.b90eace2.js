"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[55673],{28453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>i});var n=r(96540);const t={},d=n.createContext(t);function c(e){const s=n.useContext(d);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),n.createElement(d.Provider,{value:s},e.children)}},78456:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>i,default:()=>o,frontMatter:()=>c,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"packages/salesforce-docs","title":"salesforce@7.1.0","description":"bulk(sObjectName, operation, records, [options])","source":"@site/adaptors/packages/salesforce-docs.md","sourceDirName":"packages","slug":"/packages/salesforce-docs","permalink":"/adaptors/packages/salesforce-docs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"salesforce@7.1.0","id":"salesforce-docs","keywords":["adaptor","salesforce","bulk","bulkQuery","create","describe","destroy","insert","query","retrieve","update","upsert"]},"sidebar":"adaptors","previous":{"title":"Overview","permalink":"/adaptors/salesforce"},"next":{"title":"Configuration","permalink":"/adaptors/packages/salesforce-configuration-schema"}}');var t=r(74848),d=r(28453);const c={title:"salesforce@7.1.0",id:"salesforce-docs",keywords:["adaptor","salesforce","bulk","bulkQuery","create","describe","destroy","insert","query","retrieve","update","upsert"]},i=void 0,l={},h=[{value:"Functions",id:"functions",level:2},{value:"bulk",id:"bulk",level:3},{value:"bulkQuery",id:"bulkquery",level:3},{value:"create",id:"create",level:3},{value:"describe",id:"describe",level:3},{value:"destroy",id:"destroy",level:3},{value:"insert",id:"insert",level:3},{value:"query",id:"query",level:3},{value:"retrieve",id:"retrieve",level:3},{value:"update",id:"update",level:3},{value:"upsert",id:"upsert",level:3},{value:"http",id:"http",level:2},{value:"http.get",id:"http_get",level:3},{value:"http.post",id:"http_post",level:3},{value:"http.request",id:"http_request",level:3},{value:"util",id:"util",level:2},{value:"util.toUTF8",id:"util_toUTF8",level:3},{value:"Interfaces",id:"interfaces",level:2},{value:"BulkOptions",id:"bulkoptions",level:3},{value:"BulkQueryOptions",id:"bulkqueryoptions",level:3},{value:"FullRequestOptions",id:"fullrequestoptions",level:3},{value:"SalesforceResultState",id:"salesforceresultstate",level:3},{value:"SimpleRequestOptions",id:"simplerequestoptions",level:3}];function a(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#bulk",children:"bulk(sObjectName, operation, records, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#bulkquery",children:"bulkQuery(query, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#create",children:"create(sObjectName, records)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#describe",children:"describe(sObjectName)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#destroy",children:"destroy(sObjectName, ids, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#insert",children:"insert(sObjectName, records)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#query",children:"query(query, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#retrieve",children:"retrieve(sObjectName, id)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#update",children:"update(sObjectName, records)"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#upsert",children:"upsert(sObjectName, externalId, records)"})})]}),"\n",(0,t.jsx)(s.p,{children:"This adaptor exports the following namespaced functions:"}),"\n",(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_get",children:"http.get(path, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_post",children:"http.post(path, body, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#http_request",children:"http.request(path, [options])"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"#util_toUTF8",children:"util.toUTF8(input)"})})]}),"\n",(0,t.jsx)(s.p,{children:"This adaptor exports the following from common:"}),"\n",(0,t.jsxs)("dl",{children:[(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#alterstate",children:"alterState()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#arraytostring",children:"arrayToString()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#as",children:"as()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#chunk",children:"chunk()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#combine",children:"combine()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#datapath",children:"dataPath()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#datavalue",children:"dataValue()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#datefns",children:"dateFns"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#each",children:"each()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#field",children:"field()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#fields",children:"fields()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#fn",children:"fn()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#fnif",children:"fnIf()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#group",children:"group()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#humanproper",children:"humanProper()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#index",children:"index()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#join",children:"join()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#jsonvalue",children:"jsonValue()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#lastreferencevalue",children:"lastReferenceValue()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#map",children:"map()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#merge",children:"merge()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#referencepath",children:"referencePath()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#scrubemojis",children:"scrubEmojis()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#source",children:"source()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#sourcevalue",children:"sourceValue()"})}),(0,t.jsx)("dt",{children:(0,t.jsx)("a",{href:"/adaptors/packages/common-docs#toarray",children:"toArray()"})})]}),"\n",(0,t.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,t.jsx)(s.h3,{id:"bulk",children:"bulk"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"bulk(sObjectName, operation, records, [options]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Create and execute a bulk job. Nested relationships will be flattened to dot notation automatically.\nThis function uses ",(0,t.jsx)(s.a,{href:"https://sforce.co/4fDLJnk",children:"Bulk API"}),",\nwhich is subject to ",(0,t.jsx)(s.a,{href:"https://sforce.co/4b6kn6z",children:"rate limits"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"operation"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsxs)(s.td,{children:["The bulk operation to be performed.Eg ",(0,t.jsx)(s.code,{children:"insert"}),", ",(0,t.jsx)(s.code,{children:"update"})," or ",(0,t.jsx)(s.code,{children:"upsert"})]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"records"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"array"})}),(0,t.jsx)(s.td,{children:"an array of records, or a function which returns an array."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#bulkoptions",children:(0,t.jsx)("code",{children:"BulkOptions"})})}),(0,t.jsxs)(s.td,{children:["Options to configure the request. In addition to these, you can pass any of the options supported by the ",(0,t.jsx)(s.a,{href:"https://bit.ly/41tyvVU",children:"jsforce API"}),"."]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Summary of the response from Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.success"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"true"})," if Salesforce reports no errors from the operation"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.completed"}),(0,t.jsx)(s.td,{children:"Array of ids for every successful completion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.errors"}),(0,t.jsx)(s.td,{children:"Array of errors reported by Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Bulk insert"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'bulk(\n  "Patient__c",\n  "insert",\n  (state) => state.patients.map((x) => ({ Age__c: x.age, Name: x.name })),\n  { failOnError: true }\n);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Bulk upsert"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'bulk(\n  "vera__Beneficiary__c",\n  "upsert",\n  [\n    {\n      vera__Reporting_Period__c: 2023,\n      vera__Geographic_Area__c: "Uganda",\n      "vera__Indicator__r.vera__ExtId__c": 1001,\n      vera__Result_UID__c: "1001_2023_Uganda",\n    },\n  ],\n  { extIdField: "vera__Result_UID__c" }\n);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Bulk upsert with a nested relationship"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'bulk(\n  "vera__Beneficiary__c",\n  "upsert",\n  [\n    {\n      vera__Reporting_Period__c: 2023,\n      "vera_Project": {\n        "Metrics_ID__c": "jfh5LAnxu1i4na"\n      }\n    },\n  ],\n  { extIdField: "vera__Result_UID__c" }\n);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Bulk update Account records using a lazy state reference"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'fn((state) => {\n  state.accounts = state.data.map((a) => ({ Id: a.id, Name: a.name }));\n  return state;\n});\nbulk("Account", "update", $.accounts, { failOnError: true });\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"bulkquery",children:"bulkQuery"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"bulkQuery(query, [options]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Execute an SOQL Bulk Query.\nThis function query large data sets and reduce the number of API requests.\n",(0,t.jsx)(s.code,{children:"bulkQuery()"})," uses ",(0,t.jsx)(s.a,{href:"https://sforce.co/4azgczz",children:"Bulk API v2.0 Query"})," which is available in API version 47.0 and later.\nThis API is subject to ",(0,t.jsx)(s.a,{href:"https://sforce.co/4b6kn6z",children:"rate limits"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"query"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"A query string."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#bulkqueryoptions",children:(0,t.jsx)("code",{children:"BulkQueryOptions"})})}),(0,t.jsx)(s.td,{children:"Options passed to the bulk api."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),' Bulk query patient records where "Health_ID__c" is equal to the value in "state.data.healthId"']}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"bulkQuery(`SELECT Id FROM Patient__c WHERE Health_ID__c = '${$.data.healthId}'`);\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Bulk query with custom polling options"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"bulkQuery(\n  (state) =>\n    `SELECT Id FROM Patient__c WHERE Health_ID__c = '${state.data.field1}'`,\n  { pollTimeout: 10000, pollInterval: 6000 }\n);\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"create",children:"create"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"create(sObjectName, records) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Create one or more new sObject records. Relationships in the record should be nested and not use dot-notation syntax"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"records"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"Object"})," | ",(0,t.jsx)("code",{children:"Array.<Object>"})]}),(0,t.jsx)(s.td,{children:"Field attributes for the new record, or an array of field attributes."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Summary of the response from Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.success"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"true"})," if Salesforce reports no errors from the operation"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.completed"}),(0,t.jsx)(s.td,{children:"Array of ids for every successful completion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.errors"}),(0,t.jsx)(s.td,{children:"Array of errors reported by Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Single record creation"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'create("Account", { Name: "My Account #1" });\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Multiple records creation"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'create("Account",[{ Name: "My Account #1" }, { Name: "My Account #2" }]);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Create records from data on state"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'create("Account",\n  $.data.map((account) => ({\n    Name: account.label\n  })\n));\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Update a record with a relationship"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'create("Account", {\n  Name: "My Account #1" ,\n  "Project__r": {\n    "Metrics_ID__c": "jfh5LAnxu1i4na"\n  }\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"describe",children:"describe"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"describe(sObjectName) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Fetches and logs metadata for an sObject and pushes the result to ",(0,t.jsx)(s.code,{children:"state.data"}),".\nIf ",(0,t.jsx)(s.code,{children:"sObjectName"})," is not specified, it will print the total number of all available sObjects and push the result to ",(0,t.jsx)(s.code,{children:"state.data"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The API name of the sObject. If omitted, fetches metadata for all sObjects."})]})})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Fetch metadata for all available sObjects"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"describe()\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Fetch metadata for Account sObject"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"describe('Account')\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"destroy",children:"destroy"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"destroy(sObjectName, ids, [options]) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Delete records of an sObject."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"ids"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"string"})," | ",(0,t.jsx)("code",{children:"Array.<string>"})]}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"ID or array of IDs of records to delete"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Options for the destroy delete operation."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options.failOnError]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"false"})}),(0,t.jsx)(s.td,{children:"If true, the operation will fail if any record fails to delete."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Summary of the response from Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.success"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"true"})," if Salesforce reports no errors from the operation"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.completed"}),(0,t.jsx)(s.td,{children:"Array of ids for every successful completion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.errors"}),(0,t.jsx)(s.td,{children:"Array of errors reported by Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Delete a single record"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'destroy("Account", "001XXXXXXXXXXXXXXX");\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Allow operation to fail if any record fails to delete"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'destroy("Account", ["001XXXXXXXXXXXXXXX", "001YYYYYYYYYYYYYYY"], {\n  failOnError: true,\n});\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Using a state variable"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:' fn((state) => {\n  state.data = ["001XXXXXXXXXXXXXXX", "001YYYYYYYYYYYYYYY"];\n  return state;\n});\ndestroy("Account", $.data);\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"insert",children:"insert"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"insert(sObjectName, records) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:'Alias for "create(sObjectName, records)".'}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"records"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"Object"})," | ",(0,t.jsx)("code",{children:"Array.<Object>"})]}),(0,t.jsx)(s.td,{children:"Field attributes for the new record, or an array of field attributes."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Single record creation"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'insert("Account", { Name: "My Account #1" });\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Multiple records creation"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'insert("Account",[{ Name: "My Account #1" }, { Name: "My Account #2" }]);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Using a state variable"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'fn((state) => {\n  state.data = [{ Name: "My Account #1" }, { Name: "My Account #2" }];\n  return state;\n});\ninsert("Account", $.data);\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"query",children:"query"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"query(query, [options]) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Executes an SOQL (Salesforce Object Query Language) query to retrieve records from Salesforce.\nNote that in an event of a query error, error logs will be printed but the operation will not throw the error."}),"\n",(0,t.jsxs)(s.p,{children:["The Salesforce query API is subject to rate limits, ",(0,t.jsx)(s.a,{href:"https://sforce.co/3W9zyaQ",children:"learn more here"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"query"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"A SOQL query string. Must be less than 4000 characters in WHERE clause"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Query options"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options.limit]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"number"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"10000"})}),(0,t.jsxs)(s.td,{children:["Maximum number of records to fetch. If ",(0,t.jsx)(s.code,{children:"limit: Infinity"})," is passed, all records will be fetched."]})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Array of result objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"response"}),(0,t.jsxs)(s.td,{children:["An object of result metadata.                     ",(0,t.jsx)("code",{children:"{ done, totalSize, nextRecordsUrl?: string }"}),"                     where nextRecordsUrl is only present when done is false"]})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Run a query and download all matching records"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"query('SELECT Id FROM Patient__c', { limit: Infinity });\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Run a query and limit records"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"query('SELECT Id From Account Limit 10');\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Query patients by Health ID"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"query(state => `SELECT Id FROM Patient__c WHERE Health_ID__c = '${state.data.healthId}'`);\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Query patients by Health ID using a lazy state reference"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"query(`SELECT Id FROM Patient__c WHERE Health_ID__c = '${$.data.healthId}'`);\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"retrieve",children:"retrieve"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"retrieve(sObjectName, id) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Retrieves a Salesforce sObject(s)."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The sObject to retrieve"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"id"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The id of the record"})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Retrieve a specific ContentVersion record"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"retrieve('ContentVersion', '0684K0000020Au7QAE/VersionData');\n"})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"update",children:"update"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"update(sObjectName, records) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Update an sObject record or records. Relationships in the record should be nested and not use dot-notation syntax"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"records"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"object"})," | ",(0,t.jsx)("code",{children:"Array.<object>"})]}),(0,t.jsx)(s.td,{children:"Field attributes for the new object."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Summary of the response from Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.success"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"true"})," if Salesforce reports no errors from the operation"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.completed"}),(0,t.jsx)(s.td,{children:"Array of ids for every successful completion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.errors"}),(0,t.jsx)(s.td,{children:"Array of errors reported by Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Single record update"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'update("Account", {\n  Id: "0010500000fxbcuAAA",\n  Name: "Updated Account #1",\n});\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Multiple records update"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'update("Account", [\n  { Id: "0010500000fxbcuAAA", Name: "Updated Account #1" },\n  { Id: "0010500000fxbcvAAA", Name: "Updated Account #2" },\n]);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Update a record with a relationship"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'update("Account", {\n  Id: "0010500000fxbcuAAA",\n  "Project__r": {\n    "Metrics_ID__c": "jfh5LAnxu1i4na"\n  }\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"upsert",children:"upsert"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"upsert(sObjectName, externalId, records) \u21d2 Operation"})}),"\n",(0,t.jsx)(s.p,{children:"Create a new sObject record, or updates it if it already exists. Relationships in the record should be nested and not use dot-notation syntax"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"sObjectName"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"API name of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"externalId"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The external ID of the sObject."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"records"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)("code",{children:"Object"})," | ",(0,t.jsx)("code",{children:"Array.<Object>"})]}),(0,t.jsx)(s.td,{children:"Field attributes for the records to upsert, or an array of field attributes."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Single record upsert"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'upsert("UpsertTable__c", "ExtId__c", { Name: "Record #1", ExtId__c : \'ID-0000001\' });\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"}),"  Multiple record upsert"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'upsert("UpsertTable__c", "ExtId__c", [\n  { Name: "Record #1", ExtId__c : \'ID-0000001\' },\n  { Name: "Record #2", ExtId__c : \'ID-0000002\' },\n]);\n'})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Update a record with a relationship"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'upsert("UpsertTable__c", {\n  Name: "Record #1",\n  "Project__r": {\n    "Metrics_ID__c": "jfh5LAnxu1i4na"\n  }\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"http",children:"http"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the http namespace."}),"\n",(0,t.jsx)(s.h3,{id:"http_get",children:"http.get"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"get(path, [options]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Send a GET request on salesforce server configured in ",(0,t.jsx)(s.code,{children:"state.configuration"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The Salesforce API endpoint."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#simplerequestoptions",children:(0,t.jsx)("code",{children:"SimpleRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Configure headers and query parameters for the request."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Make a GET request to a custom Salesforce flow"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get('/actions/custom/flow/POC_OpenFN_Test_Flow');\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Make a GET request to a custom Salesforce flow with query parameters"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:"http.get('/actions/custom/flow/POC_OpenFN_Test_Flow', { query: { Status: 'Active' } });\n"})}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Make a GET request then map the response"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'http.get("/jobs/query/v1/jobs/001XXXXXXXXXXXXXXX/results").then((state) => {\n  state.mapping = state.data.map((d) => ({ name: d.name, id: d.extId }));\n  return state;\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"http_post",children:"http.post"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"post(path, body, [options]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Send a POST request to salesforce server configured in ",(0,t.jsx)(s.code,{children:"state.configuration"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The Salesforce API endpoint."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"body"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"A JSON Object request body."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#simplerequestoptions",children:(0,t.jsx)("code",{children:"SimpleRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Configure headers and query parameters for the request."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," POST request to Salesforce"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'http.post("/jobs/query", {\n  operation: "query",\n  query: "SELECT Id, Name FROM Account LIMIT 1000",\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"http_request",children:"http.request"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"request(path, [options]) \u21d2 Operation"})}),"\n",(0,t.jsxs)(s.p,{children:["Send a request to salesforce server configured in ",(0,t.jsx)(s.code,{children:"state.configuration"}),"."]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"path"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"The Salesforce API endpoint."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[options]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)(s.a,{href:"#fullrequestoptions",children:(0,t.jsx)("code",{children:"FullRequestOptions"})})}),(0,t.jsx)(s.td,{children:"Configure headers, query and body parameters for the request."})]})]})]}),"\n",(0,t.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"State Key"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"API response data. Can be either an object or array of objects"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Make a POST request to a custom Salesforce flow"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'http.request("/actions/custom/flow/POC_OpenFN_Test_Flow", {\n  method: "POST",\n  body: { inputs: [{}] },\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"util",children:"util"}),"\n",(0,t.jsx)(s.p,{children:"These functions belong to the util namespace."}),"\n",(0,t.jsx)(s.h3,{id:"util_toUTF8",children:"util.toUTF8"}),"\n",(0,t.jsx)("p",{children:(0,t.jsx)("code",{children:"toUTF8(input) \u21d2 string"})}),"\n",(0,t.jsx)(s.p,{children:"Transliterates unicode characters to their best ASCII representation"}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Returns"}),": ",(0,t.jsx)("code",{children:"string"})," - - ASCII representation of input string"]}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Param"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsx)(s.tbody,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"input"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:"A string with unicode characters"})]})})]}),"\n",(0,t.jsxs)(s.p,{children:[(0,t.jsx)(s.strong,{children:"Example:"})," Transliterate ",(0,t.jsx)(s.code,{children:"\u03ac\u03bd\u03b8\u03c1\u03c9\u03c0\u03bf\u03b9"})," to ",(0,t.jsx)(s.code,{children:"anthropoi"})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-js",children:'fn((state) => {\n  const s = util.toUTF8("\u03ac\u03bd\u03b8\u03c1\u03c9\u03c0\u03bf\u03b9");\n  console.log(s); // anthropoi\n  return state;\n});\n'})}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,t.jsx)(s.h3,{id:"bulkoptions",children:"BulkOptions"}),"\n",(0,t.jsx)(s.p,{children:"Options provided to the Salesforce bulk API request"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"extIdField"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"External id field. Required for upsert."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[allowNoOp]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"false"})}),(0,t.jsx)(s.td,{children:"Skipping bulk operation if no records."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[failOnError]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"boolean"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"false"})}),(0,t.jsx)(s.td,{children:"Fail the operation on error."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[pollTimeout]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"integer"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"240000"})}),(0,t.jsx)(s.td,{children:"Polling timeout in milliseconds."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[pollInterval]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"integer"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"6000"})}),(0,t.jsx)(s.td,{children:"Polling interval in milliseconds."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"bulkqueryoptions",children:"BulkQueryOptions"}),"\n",(0,t.jsx)(s.p,{children:"Options provided to the Salesforce bulk query API request"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[pollTimeout]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"integer"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"90000"})}),(0,t.jsx)(s.td,{children:"Polling timeout in milliseconds."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[pollInterval]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"integer"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"3000"})}),(0,t.jsx)(s.td,{children:"Polling interval in milliseconds."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"fullrequestoptions",children:"FullRequestOptions"}),"\n",(0,t.jsx)(s.p,{children:"Options provided to the Salesforce HTTP request"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Default"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"[method]"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"string"})}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:'"GET"'})}),(0,t.jsx)(s.td,{children:"HTTP method to use."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"headers"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Object of request headers."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"query"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Object request query."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"body"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{}),(0,t.jsx)(s.td,{children:"Object request body."})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"salesforceresultstate",children:"SalesforceResultState"}),"\n",(0,t.jsx)(s.p,{children:"State object"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data"}),(0,t.jsx)(s.td,{children:"Summary of the response from Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.success"}),(0,t.jsxs)(s.td,{children:[(0,t.jsx)(s.code,{children:"true"})," if Salesforce reports no errors from the operation"]})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.completed"}),(0,t.jsx)(s.td,{children:"Array of ids for every successful completion"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"data.errors"}),(0,t.jsx)(s.td,{children:"Array of errors reported by Salesforce"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"references"}),(0,t.jsx)(s.td,{children:"History of all previous states"})]})]})]}),"\n",(0,t.jsx)(s.hr,{}),"\n",(0,t.jsx)(s.h3,{id:"simplerequestoptions",children:"SimpleRequestOptions"}),"\n",(0,t.jsx)(s.p,{children:(0,t.jsx)(s.strong,{children:"Properties"})}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Name"}),(0,t.jsx)(s.th,{children:"Type"}),(0,t.jsx)(s.th,{children:"Description"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"headers"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"Object of request headers."})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"query"}),(0,t.jsx)(s.td,{children:(0,t.jsx)("code",{children:"object"})}),(0,t.jsx)(s.td,{children:"Object of request query."})]})]})]}),"\n",(0,t.jsx)(s.hr,{})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(a,{...e})}):a(e)}}}]);