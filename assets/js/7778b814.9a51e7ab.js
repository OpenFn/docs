"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[46105],{28453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>r});var s=t(96540);const o={},i=s.createContext(o);function l(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:l(e.components),s.createElement(i.Provider,{value:n},e.children)}},78034:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"build-for-developers/cli-intro","title":"Get started with the OpenFn CLI","description":"Build and test your automated workflows and integrations via the command line.","source":"@site/docs/build-for-developers/cli-intro.md","sourceDirName":"build-for-developers","slug":"/cli","permalink":"/documentation/cli","draft":false,"unlisted":false,"editUrl":"https://github.com/openfn/docs/edit/main/docs/build-for-developers/cli-intro.md","tags":[],"version":"current","frontMatter":{"title":"Get started with the OpenFn CLI","sidebar_label":"Get started","slug":"/cli"},"sidebar":"docs","previous":{"title":"Keyboard Shortcuts","permalink":"/documentation/keyboard-shortcuts"},"next":{"title":"Basic usage","permalink":"/documentation/cli-usage"}}');var o=t(74848),i=t(28453);const l={title:"Get started with the OpenFn CLI",sidebar_label:"Get started",slug:"/cli"},r=void 0,a={},d=[{value:"Build and test your automated workflows and integrations via the command line.",id:"build-and-test-your-automated-workflows-and-integrations-via-the-command-line",level:4},{value:"Before you start",id:"before-you-start",level:3},{value:"Install the CLI",id:"install-the-cli",level:3},{value:"Updating the CLI",id:"updating-the-cli",level:3},{value:"Troubleshooting",id:"troubleshooting",level:3}];function c(e){const n={a:"a",code:"code",h3:"h3",h4:"h4",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components},{Details:t}=n;return t||function(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h4,{id:"build-and-test-your-automated-workflows-and-integrations-via-the-command-line",children:"Build and test your automated workflows and integrations via the command line."}),"\n",(0,o.jsx)(n.p,{children:"The OpenFn CLI is a developer tool to help you build, test, and manage your\nworkflows directly from the command line. It\u2019s simple to install, works on\nmacOS, Windows, and Linux, and offers a range of functionality to enhance your\ndeveloper experience with OpenFn. You can use the OpenFn CLI to:"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Securely run OpenFn steps and workflows"}),"\n",(0,o.jsx)(n.li,{children:"Troubleshoot and debug OpenFn steps"}),"\n",(0,o.jsx)(n.li,{children:"Access adaptor documentation"}),"\n",(0,o.jsx)(n.li,{children:"Deploy workflows to OpenFn"}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"before-you-start",children:"Before you start"}),"\n",(0,o.jsx)(n.p,{children:"Before you begin with the @openfn/cli, make sure to setup some key tooling:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Code Editor:"})," Ensure you have a code editor installed on your machine. You\ncan use popular editors like ",(0,o.jsx)(n.a,{href:"https://code.visualstudio.com/",children:"VS Code"})," or\n",(0,o.jsx)(n.a,{href:"https://www.sublimetext.com/",children:"Sublime"}),"."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.strong,{children:"Node.js:"})," Install Node.js (version 18 or later). For Linux, Windows, or\nmacOS, use a version manager like ",(0,o.jsx)(n.a,{href:"https://github.com/nvm-sh/nvm",children:"nvm"})," or\n",(0,o.jsx)(n.a,{href:"https://asdf-vm.com/guide/getting-started.html",children:"asdf"}),". Or\n",(0,o.jsx)(n.a,{href:"https://kinsta.com/blog/how-to-install-node-js/",children:"install Node.js directly"}),"\nby following this guide."]}),"\n"]}),"\n",(0,o.jsxs)(n.p,{children:["You should also ",(0,o.jsx)(n.strong,{children:"understand OpenFn Basic concepts"}),", particularly steps and\nadaptors. Check out the ",(0,o.jsx)(n.a,{href:"/documentation",children:"Intro section"})," on this site to get\ncaught up."]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"install-the-cli",children:"Install the CLI"}),"\n",(0,o.jsxs)(n.p,{children:["To download the latest version of\n",(0,o.jsx)(n.a,{href:"https://www.npmjs.com/package/@openfn/cli",children:"@openfn/cli"}),", on the command line,\nrun the following command."]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install -g @openfn/cli\n"})}),"\n",(0,o.jsx)(n.p,{children:"Make sure everything works by running the built-in test workflow:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"openfn test\n"})}),"\n",(0,o.jsxs)(n.p,{children:["The word ",(0,o.jsx)(n.code,{children:"openfn"})," will invoke the CLI. The word ",(0,o.jsx)(n.code,{children:"test"})," will invoke the test\ncommand."]}),"\n",(0,o.jsxs)(t,{children:[(0,o.jsx)("summary",{children:"Expand to see the expected output."}),(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{children:'[CLI] \u2666 Versions:\n   \u25b8 node.js     18.12.1\n   \u25b8 cli         1.0.0\n[CLI] \u2139 Running test workflow...\n[CLI] \u2139 Execution plan:\n[CLI] \u2139 {\n   "options": {\n     "start": "start"\n   },\n   "workflow": {\n     "steps": [\n       {\n          "id": "start",\n          "state": {\n          "data": {\n            "defaultAnswer": 42\n          }\n          "expression": "const fn = () => (state) => { console.log(\'Starting computer...\'); return state; }; fn()",\n          "next": {\n            "calculate": "!state.error"\n          }\n       },\n       {\n         "id": "calculate",\n         "expression": "const fn = () => (state) => { console.log(\'Calculating to life, the universe, and everything..\'); return state }; fn()",\n         "next": {\n           "result": true\n         }\n       },\n       {\n         "id": "result",\n         "expression": "const fn = () => (state) => ({ data: { answer: state.data.answer || state.data.defaultAnswer } }); fn()"\n       }\n     ]\n   }\n}\n\n[CLI] \u2714 Compiled all expressions in workflow\n[R/T] \u2139 Executing undefined\n[R/T] \u2139 Starting step start\n[JOB] \u2139 Starting computer...\n[R/T] \u2714 Completed step start in 1ms\n[R/T] \u2139 Starting step calculate\n[JOB] \u2139 Calculating to life, the universe, and everything..\n[R/T] \u2714 Completed step calculate in 1ms\n[R/T] \u2139 Starting step result\n[R/T] \u2714 Completed step result in 0ms\n[CLI] \u2714 Result: 42\n'})})]}),"\n",(0,o.jsx)(n.p,{children:"All other output is the CLI telling us what it is doing internally."}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Check the version"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"openfn -v\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Get help"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"openfn help\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"updating-the-cli",children:"Updating the CLI"}),"\n",(0,o.jsx)(n.p,{children:"To install a new version straight on top of your current installation, run the\nfollowing command."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm install -g @openfn/cli\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h3,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,o.jsx)(n.p,{children:"If you encounter installation issues, try uninstalling the current version first\nand then re-installing."}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"npm uninstall -g @openfn/cli\nnpm install -g @openfn/cli\n"})})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}}}]);