"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[58700],{28453:(e,s,r)=>{r.d(s,{R:()=>c,x:()=>i});var t=r(96540);const n={},d=t.createContext(n);function c(e){const s=t.useContext(d);return t.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function i(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),t.createElement(d.Provider,{value:s},e.children)}},45446:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>h,contentTitle:()=>i,default:()=>o,frontMatter:()=>c,metadata:()=>t,toc:()=>a});const t=JSON.parse('{"id":"packages/http-docs","title":"http@7.2.3","description":"del(path, options)","source":"@site/adaptors/packages/http-docs.md","sourceDirName":"packages","slug":"/packages/http-docs","permalink":"/adaptors/packages/http-docs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"http@7.2.3","id":"http-docs","keywords":["adaptor","http","del","get","parseXML","patch","post","put","request"]},"sidebar":"adaptors","previous":{"title":"Overview","permalink":"/adaptors/http"},"next":{"title":"Configuration","permalink":"/adaptors/packages/http-configuration-schema"}}');var n=r(74848),d=r(28453);const c={title:"http@7.2.3",id:"http-docs",keywords:["adaptor","http","del","get","parseXML","patch","post","put","request"]},i=void 0,h={},a=[{value:"Functions",id:"functions",level:2},{value:"del",id:"del",level:3},{value:"get",id:"get",level:3},{value:"parseXML",id:"parsexml",level:3},{value:"patch",id:"patch",level:3},{value:"post",id:"post",level:3},{value:"put",id:"put",level:3},{value:"request",id:"request",level:3},{value:"util",id:"util",level:2},{value:"util.decode",id:"util_decode",level:3},{value:"util.encode",id:"util_encode",level:3},{value:"util.uuid",id:"util_uuid",level:3},{value:"Interfaces",id:"interfaces",level:2},{value:"RequestOptions",id:"requestoptions",level:3}];function l(e){const s={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",...(0,d.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("dl",{children:[(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#del",children:"del(path, options)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#get",children:"get(path, options)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#parsexml",children:"parseXML(data, script)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#patch",children:"patch(path, data, options)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#post",children:"post(path, data, options)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#put",children:"put(path, data, options-)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#request",children:"request(method, path, options)"})})]}),"\n",(0,n.jsx)(s.p,{children:"This adaptor exports the following namespaced functions:"}),"\n",(0,n.jsxs)("dl",{children:[(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#util_decode",children:"util.decode(base64Data)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#util_encode",children:"util.encode(data)"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"#util_uuid",children:"util.uuid()"})})]}),"\n",(0,n.jsx)(s.p,{children:"This adaptor exports the following from common:"}),"\n",(0,n.jsxs)("dl",{children:[(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#alterstate",children:"alterState()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#arraytostring",children:"arrayToString()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#as",children:"as()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#chunk",children:"chunk()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#combine",children:"combine()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#cursor",children:"cursor()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#datapath",children:"dataPath()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#datavalue",children:"dataValue()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#datefns",children:"dateFns"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#each",children:"each()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#field",children:"field()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#fields",children:"fields()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#fn",children:"fn()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#fnif",children:"fnIf()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#group",children:"group()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#humanproper",children:"humanProper()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#lastreferencevalue",children:"lastReferenceValue()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#map",children:"map()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#merge",children:"merge()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#parsecsv",children:"parseCsv()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#scrubemojis",children:"scrubEmojis()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#sourcevalue",children:"sourceValue()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#splitkeys",children:"splitKeys()"})}),(0,n.jsx)("dt",{children:(0,n.jsx)("a",{href:"/adaptors/packages/common-docs#toarray",children:"toArray()"})})]}),"\n",(0,n.jsx)(s.h2,{id:"functions",children:"Functions"}),"\n",(0,n.jsx)(s.h3,{id:"del",children:"del"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"del(path, options) \u21d2 Operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a DELETE request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Query, Headers and Auth parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," DELETE a resource by ID"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"del(`/myendpoint/${$.data.id}`);\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"get",children:"get"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"get(path, options) \u21d2 Operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a GET request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Body, Query, Headers and Authentication parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," GET request with query parameters and custom headers"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"get('/patient', {\n  query: { foo: 'bar', a: 1 },\n});\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"parsexml",children:"parseXML"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"parseXML(data, script) \u21d2 Operation"})}),"\n",(0,n.jsx)(s.p,{children:"Parse XML with the Cheerio parser"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"String"})}),(0,n.jsx)(s.td,{children:"Body string to be parsed"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"script"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"function"})}),(0,n.jsx)(s.td,{children:"script for extracting data"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed XML as a JSON object"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Parse XML from state.response"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:' parseXML(\n  (state) => state.response,\n  ($) => {\n    return $("table[class=your_table]").parsetable(true, true, true);\n  }\n);\n'})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Using parseXML with a callback to extract data"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'parseXML(\n  (state) => state.response,\n  ($) => $("table[class=your_table]").parsetable(true, true, true)\n).then((next) => ({ ...next, results: next.data.data }));\n'})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"patch",children:"patch"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"patch(path, data, options) \u21d2 Operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a PATCH request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsx)(s.td,{children:"Body data to append to the request. JSON will be converted to a string."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Query, Headers and Auth parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," PATCH a resource from state"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"patch('/patient', $.data);\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," PATCH a resource with custom headers"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"patch('/patient', $.data, {\n  headers: { 'content-type': 'application/fhir+json' },\n});\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"post",children:"post"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"post(path, data, options) \u21d2 operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a POST request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsx)(s.td,{children:"Body data to append to the request. JSON will be converted to a string."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Query, Headers and Authentication parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," POST a resource with from state"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"post('/patient', $.data);\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," POST a resource with custom headers"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"post('/patient', $.data, {\n  headers: { 'content-type': 'application/fhir+json' },\n});\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"put",children:"put"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"put(path, data, options-) \u21d2 Operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a PUT request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsx)(s.td,{children:"Body data to append to the request. JSON will be converted to a string."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options-"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Query, Headers and Auth parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," PUT a resource from state"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"put('/patient', $.data);\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," PUT a resource with custom headers"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"put('/patient', $.data, {\n  headers: { 'content-type': 'application/fhir+json' },\n})\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"request",children:"request"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"request(method, path, options) \u21d2 Operation"})}),"\n",(0,n.jsxs)(s.p,{children:["Make a HTTP request. If ",(0,n.jsx)(s.code,{children:"configuration.baseUrl"})," is set, paths must be relative."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"method"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsx)(s.td,{children:"The HTTP method to use."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"path"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Path to resource. Can be an absolute URL if baseURL is NOT set on ",(0,n.jsx)(s.code,{children:"state.configuration"}),"."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"options"}),(0,n.jsx)(s.td,{children:(0,n.jsx)(s.a,{href:"#requestoptions",children:(0,n.jsx)("code",{children:"RequestOptions"})})}),(0,n.jsx)(s.td,{children:"Body, Query, Headers and Authentication parameters"})]})]})]}),"\n",(0,n.jsx)(s.p,{children:"This operation writes the following keys to state:"}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"State Key"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:"the parsed response body"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"response"}),(0,n.jsx)(s.td,{children:"the response from the HTTP server, including headers, statusCode, body, etc"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"references"}),(0,n.jsx)(s.td,{children:"an array of all previous data objects used in the Job"})]})]})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Make a GET request"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"request('GET', '/patient', {\n  query: { foo: 'bar', a: 1 },\n});\n"})}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Make a POST request with a body"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:'request(\'POST\', \'/todos\', {\n  body:{\n    "userId": 1,\n    "title": "delectus aut autem",\n    "completed": false\n  },\n});\n'})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"util",children:"util"}),"\n",(0,n.jsx)(s.p,{children:"These functions belong to the util namespace."}),"\n",(0,n.jsx)(s.h3,{id:"util_decode",children:"util.decode"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"decode(base64Data) \u21d2 string"})}),"\n",(0,n.jsx)(s.p,{children:"Decodes a Base64 encoded string back to its original format."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns"}),": ",(0,n.jsx)("code",{children:"string"})," - - The decoded string."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"base64Data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsx)(s.td,{children:"The Base64 encoded string."})]})})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Decode a Base64 string"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"const decoded = util.decode('SGVsbG8gV29ybGQ=');\nconsole.log(decoded); // Output: Hello World\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"util_encode",children:"util.encode"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"encode(data) \u21d2 string"})}),"\n",(0,n.jsx)(s.p,{children:"Encodes a given string into Base64 format."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns"}),": ",(0,n.jsx)("code",{children:"string"})," - - The Base64 encoded string."]}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Param"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsx)(s.tbody,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"data"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsx)(s.td,{children:"The string to be encoded."})]})})]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Encode a string"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"const encoded = util.encode('Hello World');\nconsole.log(encoded); // Output: SGVsbG8gV29ybGQ=\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h3,{id:"util_uuid",children:"util.uuid"}),"\n",(0,n.jsx)("p",{children:(0,n.jsx)("code",{children:"uuid() \u21d2 string"})}),"\n",(0,n.jsx)(s.p,{children:"Generates a UUID (Universally Unique Identifier)."}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Returns"}),": ",(0,n.jsx)("code",{children:"string"})," - - A newly generated UUID."]}),"\n",(0,n.jsxs)(s.p,{children:[(0,n.jsx)(s.strong,{children:"Example:"})," Generate a UUID"]}),"\n",(0,n.jsx)(s.pre,{children:(0,n.jsx)(s.code,{className:"language-js",children:"const id = util.uuid();\nconsole.log(id); // Output:'3f4e254e-8f6f-4f8b-9651-1c1c262cc83f'\n"})}),"\n",(0,n.jsx)(s.hr,{}),"\n",(0,n.jsx)(s.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,n.jsx)(s.h3,{id:"requestoptions",children:"RequestOptions"}),"\n",(0,n.jsx)(s.p,{children:"Options provided to the HTTP request"}),"\n",(0,n.jsx)(s.p,{children:(0,n.jsx)(s.strong,{children:"Properties"})}),"\n",(0,n.jsxs)(s.table,{children:[(0,n.jsx)(s.thead,{children:(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.th,{children:"Name"}),(0,n.jsx)(s.th,{children:"Type"}),(0,n.jsx)(s.th,{children:"Description"})]})}),(0,n.jsxs)(s.tbody,{children:[(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"errors"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsxs)(s.td,{children:["Map of errorCodes -> error messages, ie, ",(0,n.jsx)(s.code,{children:"{ 404: 'Resource not found;' }"}),". Pass ",(0,n.jsx)(s.code,{children:"false"})," to suppress errors for this code."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"contentType"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsxs)(s.td,{children:["Sets the ",(0,n.jsx)(s.code,{children:"Content-Type"})," header on the request. Defaults to ",(0,n.jsx)(s.code,{children:"json"}),". Supported values: ",(0,n.jsx)(s.code,{children:"json"}),", ",(0,n.jsx)(s.code,{children:"xml"}),", ",(0,n.jsx)(s.code,{children:"string"}),", and ",(0,n.jsx)(s.code,{children:"form"})," (for FormData)."]})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"body"}),(0,n.jsxs)(s.td,{children:[(0,n.jsx)("code",{children:"object"})," | ",(0,n.jsx)("code",{children:"string"})]}),(0,n.jsx)(s.td,{children:"body data to append to the request. JSON will be converted to a string (but a content-type header will not be attached to the request).This is only applicable to the request function"})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"query"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsx)(s.td,{children:"An object of query parameters to be encoded into the URL."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"headers"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsx)(s.td,{children:"An object of headers to append to the request."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"parseAs"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"string"})}),(0,n.jsx)(s.td,{children:"Parse the response body as json, text or stream. By default will use the response headers."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"timeout"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"number"})}),(0,n.jsx)(s.td,{children:"Request timeout in ms. Default: 300 seconds."})]}),(0,n.jsxs)(s.tr,{children:[(0,n.jsx)(s.td,{children:"tls"}),(0,n.jsx)(s.td,{children:(0,n.jsx)("code",{children:"object"})}),(0,n.jsxs)(s.td,{children:["TLS/SSL authentication options. See ",(0,n.jsx)(s.a,{href:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions",children:"https://nodejs.org/api/tls.html#tlscreatesecurecontextoptions"})]})]})]})]}),"\n",(0,n.jsx)(s.hr,{})]})}function o(e={}){const{wrapper:s}={...(0,d.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}}}]);