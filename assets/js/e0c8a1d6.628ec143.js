"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[28109],{9620:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>o,frontMatter:()=>i,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"packages/dhis2-docs","title":"dhis2@8.0.0","description":"create(path, data, params)","source":"@site/adaptors/packages/dhis2-docs.md","sourceDirName":"packages","slug":"/packages/dhis2-docs","permalink":"/adaptors/packages/dhis2-docs","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"dhis2@8.0.0","id":"dhis2-docs","keywords":["adaptor","dhis2","create","destroy","get","update","upsert"]},"sidebar":"adaptors","previous":{"title":"Overview","permalink":"/adaptors/dhis2"},"next":{"title":"Configuration","permalink":"/adaptors/packages/dhis2-configuration-schema"}}');var s=n(74848),d=n(28453);const i={title:"dhis2@8.0.0",id:"dhis2-docs",keywords:["adaptor","dhis2","create","destroy","get","update","upsert"]},a=void 0,c={},l=[{value:"Functions",id:"functions",level:2},{value:"create",id:"create",level:3},{value:"destroy",id:"destroy",level:3},{value:"get",id:"get",level:3},{value:"update",id:"update",level:3},{value:"upsert",id:"upsert",level:3},{value:"util",id:"util",level:2},{value:"util.attr",id:"util_attr",level:3},{value:"util.dv",id:"util_dv",level:3},{value:"util.findAttributeValue",id:"util_findAttributeValue",level:3},{value:"util.findAttributeValueById",id:"util_findAttributeValueById",level:3},{value:"tracker",id:"tracker",level:2},{value:"tracker.export",id:"tracker_export",level:3},{value:"tracker.import",id:"tracker_import",level:3},{value:"http",id:"http",level:2},{value:"http.get",id:"http_get",level:3},{value:"http.patch",id:"http_patch",level:3},{value:"http.post",id:"http_post",level:3},{value:"http.request",id:"http_request",level:3},{value:"Interfaces",id:"interfaces",level:2},{value:"RequestOptions",id:"requestoptions",level:3},{value:"RequestOptions",id:"requestoptions-1",level:3},{value:"TrackerOptions",id:"trackeroptions",level:3}];function h(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,d.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#create",children:"create(path, data, params)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#destroy",children:"destroy(resourceType, path, [data], [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#get",children:"get(path, params)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#update",children:"update(resourceType, path, data, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#upsert",children:"upsert(resourceType, query, data, [options])"})})]}),"\n",(0,s.jsx)(t.p,{children:"This adaptor exports the following namespaced functions:"}),"\n",(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#util_attr",children:"util.attr(attribute, value)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#util_dv",children:"util.dv(dataElement, value)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#util_findAttributeValue",children:"util.findAttributeValue(trackedEntity, attributeDisplayName)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#util_findAttributeValueById",children:"util.findAttributeValueById(trackedEntity, attributeUid)"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#tracker_export",children:"tracker.export(path, query, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#tracker_import",children:"tracker.import(strategy, payload, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#http_get",children:"http.get(path, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#http_patch",children:"http.patch(resourceType, path, data, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#http_post",children:"http.post(path, data, [options])"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"#http_request",children:"http.request(method, path, [options])"})})]}),"\n",(0,s.jsx)(t.p,{children:"This adaptor exports the following from common:"}),"\n",(0,s.jsxs)("dl",{children:[(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#alterstate",children:"alterState()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#as",children:"as()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#cursor",children:"cursor()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#datapath",children:"dataPath()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#datavalue",children:"dataValue()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#datefns",children:"dateFns"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#each",children:"each()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#field",children:"field()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#fields",children:"fields()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#fn",children:"fn()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#fnif",children:"fnIf()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#group",children:"group()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#lastreferencevalue",children:"lastReferenceValue()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#map",children:"map()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#merge",children:"merge()"})}),(0,s.jsx)("dt",{children:(0,s.jsx)("a",{href:"/adaptors/packages/common-docs#sourcevalue",children:"sourceValue()"})})]}),"\n",(0,s.jsx)(t.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsx)(t.h3,{id:"create",children:"create"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"create(path, data, params) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Create a record"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to the resource to be created"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"DHIS2Data"})}),(0,s.jsx)(t.td,{children:"An object, or array of objects, to create."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"params"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{children:"Optional object of query parameters to include in the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The created resource as returned by DHIS2"})]})})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a program"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('programs', {\n  name: 'name 20',\n  shortName: 'n20',\n  programType: 'WITHOUT_REGISTRATION',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a single event"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('events', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'DiszpKrYNg8',\n  occurredAt: '2025-06-19',\n  status: 'COMPLETED',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a single tracker entity. See ",(0,s.jsx)(t.a,{href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import",children:"Create tracker docs"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('trackedEntities', {\n  orgUnit: 'TSyzvBiovKh',\n  trackedEntityType: 'nEenWmSyUEp',\n  attributes: [\n    {\n      attribute: 'w75KJ2mc4zz',\n      value: 'Gigiwe',\n    },\n  ]\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataSets', { name: 'OpenFn Data Set', periodType: 'Monthly', shortName: 'ODS' });\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," a dataSetNotification"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataSetNotificationTemplates', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello',\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataElement"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataElements', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataElementGroup"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataElementGroups', {\n  name: 'Data Element Group 1',\n  shortName: 'DEG1',\n  dataElements: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataElementGroupSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataElementGroupSets', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataValueSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataValueSets', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create a dataValueSet with related dataValues"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Create an enrollment"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"create('enrollments', {\n  trackedEntity: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'ur1Edk5Oe2n',\n  enrolledAt: '2013-09-17',\n  enrollmentDate: '2013-09-17',\n  incidentDate: '2013-09-17',\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"destroy",children:"destroy"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"destroy(resourceType, path, [data], [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Delete record."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"resourceType"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["The type of resource to be deleted. E.g. ",(0,s.jsx)(t.code,{children:"trackedEntities"}),", ",(0,s.jsx)(t.code,{children:"organisationUnits"}),", etc."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["Can be an ",(0,s.jsx)(t.code,{children:"id"})," of an ",(0,s.jsx)(t.code,{children:"object"})," or ",(0,s.jsx)(t.code,{children:"path"})," to the ",(0,s.jsx)(t.code,{children:"nested object"})," to ",(0,s.jsx)(t.code,{children:"delete"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[data]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsxs)(t.td,{children:["Optional. This is useful when you want to remove multiple objects from a collection in one request. You can send ",(0,s.jsx)(t.code,{children:"data"})," as, for example, ",(0,s.jsx)(t.code,{children:'{"identifiableObjects": [{"id": "IDA"}, {"id": "IDB"}, {"id": "IDC"}]}'}),". See more ",(0,s.jsx)(t.a,{href:"https://docs.dhis2.org/2.34/en/dhis2_developer_manual/web-api.html#deleting-objects",children:"on DHIS2 API docs"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," a tracked entity instance. See ",(0,s.jsx)(t.a,{href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import",children:"Delete tracker docs"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"destroy('trackedEntities', 'LcRd6Nyaq7T');\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"get",children:"get"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"get(path, params) \u21d2 Operation"})}),"\n",(0,s.jsxs)(t.p,{children:["Get any resource, as JSON, from DHIS2. Pass in any valid DHIS2 REST path, excluding /api and the version.\nFor the new tracker API, see ",(0,s.jsx)(t.code,{children:"tracker.export()"})]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to the resource"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"params"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{children:"Object of query parameters to include in the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"the resource returned by DHIS2"})]})})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Get all data values for the 'pBOMPrpg1QX' dataset"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"get('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  orgUnit: 'DiszpKrYNg8',\n  period: '201401',\n  fields: '*',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Get all programs for an organization unit"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"get('programs', { orgUnit: 'TSyzvBiovKh', fields: '*' });\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Get a single tracked entity given the provided ID. See ",(0,s.jsx)(t.a,{href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#tracked-entities-get-apitrackertrackedentities",children:"TrackedEntities docs"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"get('tracker/trackedEntities/F8yKM85NbxW');\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"update",children:"update"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"update(resourceType, path, data, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Update a resource object of any type. Updating an object requires all fields of the object you are updating, even if they have not been modified"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"resourceType"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["The type of resource to be updated. E.g. ",(0,s.jsx)(t.code,{children:"dataElements"}),", ",(0,s.jsx)(t.code,{children:"organisationUnits"}),", etc."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["The ",(0,s.jsx)(t.code,{children:"id"})," or ",(0,s.jsx)(t.code,{children:"path"})," to the ",(0,s.jsx)(t.code,{children:"object"})," to be updated. E.g. ",(0,s.jsx)(t.code,{children:"FTRrcoaog83"})," or ",(0,s.jsx)(t.code,{children:"FTRrcoaog83/{collection-name}/{object-id}"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsx)(t.td,{children:"Data to update. It requires to send the full body. If you want partial updates, use patch operation."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"the resource returned by DHIS2"})]})})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," a program"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('programs', 'qAZJCrNJK8H', {\n  name: '14e1aa02c3f0a31618e096f2c6d03bed',\n  shortName: '14e1aa02',\n  programType: 'WITHOUT_REGISTRATION',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," an event"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('events', 'PVqUD2hvU4E', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'Ngelehun CHC',\n  status: 'COMPLETED',\n  storedBy: 'admin',\n  dataValues: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a tracker entity. See ",(0,s.jsx)(t.a,{href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import",children:"Update tracker docs"})]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('trackedEntities', '', {\n  createdAt: '2015-08-06T21:12:37.256',\n  orgUnit: 'TSyzvBiovKh',\n  createdAtClient: '2015-08-06T21:12:37.256',\n  trackedEntity: 'IeQfgUtGPq2',\n  trackedEntityType: 'nEenWmSyUEp',\n  inactive: false,\n  deleted: false,\n  featureType: 'NONE',\n  programOwners: [\n    {\n      ownerOrgUnit: 'TSyzvBiovKh',\n      program: 'IpHINAT79UW',\n      trackedEntity: 'IeQfgUtGPq2',\n    },\n  ],\n  attributes: [\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      displayName: 'Last name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'zDhUuAYrxNC',\n      value: 'Russell',\n    },\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      code: 'MMD_PER_NAM',\n      displayName: 'First name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'w75KJ2mc4zz',\n      value: 'Catherine',\n    },\n  ],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataSets', 'lyLU2wR22tC', { name: 'OpenFN Data Set', periodType: 'Weekly' });\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," a dataSetNotification"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataSetNotificationTemplates', 'VbQBwdm1wVP', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello Updated',\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataElement"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataElements', 'FTRrcoaog83', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataElementGroup"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataElementGroups', 'QrprHT61XFk', {\n  name: 'Data Element Group 1',\n  dataElements: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataElementGroupSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataElementGroupSets', 'VxWloRvAze8', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataValueSet"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataValueSets', 'AsQj6cDsUq4', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a dataValueSet with related dataValues"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('dataValueSets', 'Ix2HsbDMLea', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update an enrollment given the provided ID"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"update('enrollments', 'CmsHzercTBa' {\n  trackedEntity: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'gZBxv9Ujxg0',\n  enrollmentDate: '2013-10-17',\n  incidentDate: '2013-10-17',\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"upsert",children:"upsert"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"upsert(resourceType, query, data, [options]) \u21d2 Operation"})}),"\n",(0,s.jsxs)(t.p,{children:["Upsert a record. This will atomically update a record if it already exists, or otherwise create it.\nThis function does not work with the absolute tracker path ",(0,s.jsx)(t.code,{children:"api/tracker"})," but rather the new tracker paths and deprecated tracker endpoints."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Throws"}),":"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:[(0,s.jsx)("code",{children:"RangeError"})," - Throws range error"]}),"\n"]}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"resourceType"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["The type of a resource to ",(0,s.jsx)(t.code,{children:"upsert"}),". E.g. ",(0,s.jsx)(t.code,{children:"trackedEntities"}),"."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"query"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsx)(t.td,{children:"A query object that allows to uniquely identify the resource to update. If no matches found, then the resource will be created."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsx)(t.td,{children:"The data to use for update or create depending on the result of the query."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Upsert a trackedEntity"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"upsert('trackedEntities', {}, {\n orgUnit: 'TSyzvBiovKh',\n trackedEntityType: 'nEenWmSyUEp',\n attributes: [\n   {\n     attribute: 'w75KJ2mc4zz',\n     value: 'Qassim',\n   },\n ],\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"}),"  Upsert a dataElement"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"upsert(\n  'dataElements',\n  { filter: 'id:eq:P3jJH5Tu5VC' },\n  {\n    op: 'add',\n    path: '/domainType',\n    name: 'Acute',\n    shortName: 'AFP follow-up',\n    dimensionItemType: 'DATA_ELEMENT',\n    legendSets: [],\n    aggregationType: 'SUM',\n    valueType: 'NUMBER',\n    domainType: 'AGGREGATE',\n    code: 'DE_359049',\n    name: 'Acute Flaccid Paralysis (AFP) follow-up',\n   }\n );\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"util",children:"util"}),"\n",(0,s.jsx)(t.p,{children:"These functions belong to the util namespace."}),"\n",(0,s.jsx)(t.h3,{id:"util_attr",children:"util.attr"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"attr(attribute, value) \u21d2 object"})}),"\n",(0,s.jsx)(t.p,{children:"Converts an attribute ID and value into a DHIS2 attribute object"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"attribute"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"A tracked entity instance (TEI) attribute ID."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The value for that attribute."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"fn(state => {\n   const s = util.attr('w75KJ2mc4zz', 'Elias');\n   console.log(s);\n   return state;\n})\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"util_dv",children:"util.dv"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"dv(dataElement, value) \u21d2 object"})}),"\n",(0,s.jsx)(t.p,{children:"Converts a dataElement and value into a DHIS2 dataValue object"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"dataElement"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"A data element ID."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"value"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The value for that data element."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"fn(state => {\n  const s = util.dv('f7n9E0hX8qk', 12);\n  console.log(s);\n  return state\n})\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"util_findAttributeValue",children:"util.findAttributeValue"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"findAttributeValue(trackedEntity, attributeDisplayName) \u21d2 string"})}),"\n",(0,s.jsx)(t.p,{children:"Gets an attribute value by its case-insensitive display name"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"trackedEntity"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsx)(t.td,{children:"A tracked entity instance (TEI) object"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"attributeDisplayName"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The 'displayName' to search for in the TEI's attributes"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"fn(state => {\n   const s = util.findAttributeValue(state.data.trackedEntities[0], 'first name');\n   console.log(s);\n   return state\n})\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"util_findAttributeValueById",children:"util.findAttributeValueById"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"findAttributeValueById(trackedEntity, attributeUid) \u21d2 string"})}),"\n",(0,s.jsx)(t.p,{children:"Gets an attribute value by its uid"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"trackedEntity"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsx)(t.td,{children:"A tracked entity instance (TEI) object"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"attributeUid"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The uid to search for in the TEI's attributes"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Example"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"fn(state =>{\n  const s = util.findAttributeValueById(state.tei, 'y1w2R6leVmh');\n  console.log(s);\n  return state\n})\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"tracker",children:"tracker"}),"\n",(0,s.jsx)(t.p,{children:"These functions belong to the tracker namespace."}),"\n",(0,s.jsx)(t.h3,{id:"tracker_export",children:"tracker.export"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"export(path, query, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Export data from DHIS2."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to the resource, relative to the /tracker endpoint"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"query"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{children:"An object of query parameters to be encoded into the URL"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#trackeroptions",children:(0,s.jsx)("code",{children:"TrackerOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing parseAs, and apiVersion for the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Export a trackedEntity resource using the id"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"tracker.export('trackedEntities/Gu5UKnIFnJf')\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Export all enrollment resources"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"tracker.export('enrollments', {orgUnit: 'TSyzvBiovKh'});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Export all events"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"tracker.export('events')\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"tracker_import",children:"tracker.import"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"import(strategy, payload, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Import data into DHIS2 using the tracker endpoint."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"strategy"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The effect the import should have. Can either be CREATE, UPDATE, CREATE_AND_UPDATE and DELETE."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"payload"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{children:"The data to be imported."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#trackeroptions",children:(0,s.jsx)("code",{children:"TrackerOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing parseAs, and apiVersion, and queries for the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Import some data and pass the ",(0,s.jsx)(t.code,{children:"atomicMode"})," parameter"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"tracker.import('CREATE', $.trackerData, { atomicMode: 'ALL' })\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Import a trackedEntity resource"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"tracker.import(\n  'CREATE',\n  {\n    trackedEntities: [\n      {\n        orgUnit: 'TSyzvBiovKh',\n        trackedEntityType: 'nEenWmSyUEp',\n        attributes: [\n          {\n            attribute: 'w75KJ2mc4zz',\n            value: 'Gigiwe',\n          },\n        ],\n      },\n    ],\n  },\n  {\n    atomicMode: 'ALL',\n  }\n);\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"http",children:"http"}),"\n",(0,s.jsx)(t.p,{children:"These functions belong to the http namespace."}),"\n",(0,s.jsx)(t.h3,{id:"http_get",children:"http.get"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"get(path, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Make a GET request to any DHIS2 endpoint."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to resource."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"response"}),(0,s.jsx)(t.td,{children:"The HTTP response from the DHIS2 server (excluding the body)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Get with query parameters"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"http.get('dataValueSets', {\n query:{\n  dataSet: 'pBOMPrpg1QX',\n  orgUnit: 'DiszpKrYNg8',\n  period: '201401',\n  fields: '*',\n}\n});\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Get an image from a trackedEntityInstance."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"http.get('trackedEntityInstances/qHVDKszQmdx/BqaEWTBG3RB/image', {\n  headers:{\n      Accept: 'image/*'\n  },\n  parseAs: 'base64',\n});\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"http_patch",children:"http.patch"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"patch(resourceType, path, data, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Make a PATCH request to any DHIS2 endpoint."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"resourceType"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"The type of resource to be updated."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsxs)(t.td,{children:["The ",(0,s.jsx)(t.code,{children:"id"})," or ",(0,s.jsx)(t.code,{children:"path"})," to the ",(0,s.jsx)(t.code,{children:"object"})," to be updated. E.g. ",(0,s.jsx)(t.code,{children:"FTRrcoaog83"})," or ",(0,s.jsx)(t.code,{children:"FTRrcoaog83/{collection-name}/{object-id}"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"Object"})}),(0,s.jsxs)(t.td,{children:["Data to update. Include only the fields you want to update. E.g. ",(0,s.jsx)(t.code,{children:'{name: "New Name"}'})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"response"}),(0,s.jsx)(t.td,{children:"The HTTP response from the DHIS2 server (excluding the body)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Update a resource"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"patch('dataElements', 'FTRrcoaog83', { name: 'New Name' });\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"http_post",children:"http.post"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"post(path, data, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Make a POST request to any DHIS2 endpoint."}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to resource."})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"DHIS2Data"})}),(0,s.jsxs)(t.td,{children:["Object which defines data that will be used to create a given instance of resource. To create a single instance of a resource, ",(0,s.jsx)(t.code,{children:"data"})," must be a javascript object, and to create multiple instances of a resources, ",(0,s.jsx)(t.code,{children:"data"})," must be an array of javascript objects."]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, parseAs,and headers for the request."})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"response"}),(0,s.jsx)(t.td,{children:"The HTTP response from the DHIS2 server (excluding the body)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Call the tracker endpoint with a JSON payload"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'http.post("tracker", {\n  events: [\n    {\n      program: "eBAyeGv0exc",\n      orgUnit: "DiszpKrYNg8",\n      status: "COMPLETED",\n    },\n  ],\n});\n'})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"http_request",children:"http.request"}),"\n",(0,s.jsx)("p",{children:(0,s.jsx)("code",{children:"request(method, path, [options]) \u21d2 Operation"})}),"\n",(0,s.jsx)(t.p,{children:"Make a HTTP request to any DHIS2 endpoint"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Param"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"method"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"HTTP method to use"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"path"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:"Path to resource"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[options]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)(t.a,{href:"#requestoptions",children:(0,s.jsx)("code",{children:"RequestOptions"})})}),(0,s.jsx)(t.td,{children:"An optional object containing query, requestConfig, and data for the request"})]})]})]}),"\n",(0,s.jsx)(t.p,{children:"This operation writes the following keys to state:"}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"State Key"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"data"}),(0,s.jsx)(t.td,{children:"The response body (as JSON)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"response"}),(0,s.jsx)(t.td,{children:"The HTTP response from the DHIS2 server (excluding the body)"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"references"}),(0,s.jsx)(t.td,{children:"An array of all previous data objects used in the Job"})]})]})]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," GET request with a URL params"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:'http.request("GET",\n  "tracker/relationships", {\n   query:{\n       trackedEntity: [\'F8yKM85NbxW\']\n   },\n});\n'})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Example:"})," Upsert a tracker resource"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-js",children:"http.request('POST', 'tracker', {\n  data: {\n  orgUnit: 'TSyzvBiovKh',\n  trackedEntityType: 'nEenWmSyUEp',\n  attributes: [\n    {\n      attribute: 'w75KJ2mc4zz',\n      value: 'Qassime',\n    },\n  ],\n },\n  query:{\n     importStrategy: 'CREATE_AND_UPDATE'\n   }\n });\n"})}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,s.jsx)(t.h3,{id:"requestoptions",children:"RequestOptions"}),"\n",(0,s.jsx)(t.p,{children:"Options object"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Properties"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"query"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:"An object of query parameters to be encoded into the URL"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"headers"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:"An object of all request headers"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[parseAs]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"\"'json'\""})}),(0,s.jsxs)(t.td,{children:["The response format to parse (e.g., 'json', 'text', 'stream', or 'base64'. Defaults to ",(0,s.jsx)(t.code,{children:"json"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[apiVersion]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"42"})}),(0,s.jsx)(t.td,{children:"The apiVersion of the request. Defaults to 42."})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"requestoptions-1",children:"RequestOptions"}),"\n",(0,s.jsx)(t.p,{children:"Options object"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Properties"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsxs)(t.tbody,{children:[(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"query"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:"An object of query parameters to be encoded into the URL"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"headers"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"object"})}),(0,s.jsx)(t.td,{}),(0,s.jsx)(t.td,{children:"An object of all request headers"})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[parseAs]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"\"'json'\""})}),(0,s.jsxs)(t.td,{children:["The response format to parse (e.g., 'json', 'text', 'stream', or 'base64'. Defaults to ",(0,s.jsx)(t.code,{children:"json"})]})]}),(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[apiVersion]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"42"})}),(0,s.jsx)(t.td,{children:"The apiVersion of the request. Defaults to 42."})]})]})]}),"\n",(0,s.jsx)(t.hr,{}),"\n",(0,s.jsx)(t.h3,{id:"trackeroptions",children:"TrackerOptions"}),"\n",(0,s.jsx)(t.p,{children:"All options, apart from those listed here, will be appended as query parameters to the URL"}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Properties"})}),"\n",(0,s.jsxs)(t.table,{children:[(0,s.jsx)(t.thead,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.th,{children:"Name"}),(0,s.jsx)(t.th,{children:"Type"}),(0,s.jsx)(t.th,{children:"Default"}),(0,s.jsx)(t.th,{children:"Description"})]})}),(0,s.jsx)(t.tbody,{children:(0,s.jsxs)(t.tr,{children:[(0,s.jsx)(t.td,{children:"[parseAs]"}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"string"})}),(0,s.jsx)(t.td,{children:(0,s.jsx)("code",{children:"\"'json'\""})}),(0,s.jsxs)(t.td,{children:["The response format to parse (e.g., 'json', 'text', 'stream', or 'base64'. Defaults to ",(0,s.jsx)(t.code,{children:"json"})]})]})})]}),"\n",(0,s.jsx)(t.hr,{})]})}function o(e={}){const{wrapper:t}={...(0,d.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const s={},d=r.createContext(s);function i(e){const t=r.useContext(d);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),r.createElement(d.Provider,{value:t},e.children)}}}]);