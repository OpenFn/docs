"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[28109],{18695:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>i,contentTitle:()=>g,default:()=>u,frontMatter:()=>l,metadata:()=>p,toc:()=>o});var n=a(58168),r=(a(96540),a(15680));const l={title:"dhis2@6.3.1",id:"dhis2-docs",keywords:["adaptor","dhis2","attr","create","destroy","discover","dv","findAttributeValue","findAttributeValueById","get","patch","post","update","upsert"]},g=void 0,p={unversionedId:"packages/dhis2-docs",id:"packages/dhis2-docs",title:"dhis2@6.3.1",description:"attr(attribute, value)",source:"@site/adaptors/packages/dhis2-docs.md",sourceDirName:"packages",slug:"/packages/dhis2-docs",permalink:"/adaptors/packages/dhis2-docs",draft:!1,tags:[],version:"current",frontMatter:{title:"dhis2@6.3.1",id:"dhis2-docs",keywords:["adaptor","dhis2","attr","create","destroy","discover","dv","findAttributeValue","findAttributeValueById","get","patch","post","update","upsert"]},sidebar:"adaptors",previous:{title:"DHIS2",permalink:"/adaptors/dhis2"},next:{title:"Config for dhis2",permalink:"/adaptors/packages/dhis2-configuration-schema"}},i={},o=[{value:"Functions",id:"functions",level:2},{value:"attr",id:"attr",level:3},{value:"create",id:"create",level:3},{value:"destroy",id:"destroy",level:3},{value:"discover",id:"discover",level:3},{value:"dv",id:"dv",level:3},{value:"findAttributeValue",id:"findattributevalue",level:3},{value:"findAttributeValueById",id:"findattributevaluebyid",level:3},{value:"get",id:"get",level:3},{value:"patch",id:"patch",level:3},{value:"post",id:"post",level:3},{value:"update",id:"update",level:3},{value:"upsert",id:"upsert",level:3}],d={toc:o},y="wrapper";function u(e){let{components:t,...a}=e;return(0,r.yg)(y,(0,n.A)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("dl",null,(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#attr"},"attr(attribute, value)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#create"},"create(resourceType, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#destroy"},"destroy(resourceType, path, [data], [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#discover"},"discover(httpMethod, endpoint)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#dv"},"dv(dataElement, value)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#findattributevalue"},"findAttributeValue(trackedEntity, attributeDisplayName)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#findattributevaluebyid"},"findAttributeValueById(trackedEntity, attributeUid)")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#get"},"get(resourceType, query, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#patch"},"patch(resourceType, path, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#post"},"post(resourceType, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#update"},"update(resourceType, path, data, [options], [callback])")),(0,r.yg)("dt",null,(0,r.yg)("a",{href:"#upsert"},"upsert(resourceType, query, data, [options], [callback])"))),(0,r.yg)("h2",{id:"functions"},"Functions"),(0,r.yg)("h3",{id:"attr"},"attr"),(0,r.yg)("p",null,(0,r.yg)("code",null,"attr(attribute, value) \u21d2 object")),(0,r.yg)("p",null,"Converts an attribute ID and value into a DHIS2 attribute object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"attribute"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"A tracked entity instance (TEI) attribute ID.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"value"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The value for that attribute.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"attr('w75KJ2mc4zz', 'Elias')\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"create"},"create"),(0,r.yg)("p",null,(0,r.yg)("code",null,"create(resourceType, data, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Create a record"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Type of resource to create. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntities"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"programs"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"events"),", ...")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Dhis2Data")),(0,r.yg)("td",{parentName:"tr",align:null},"Object which defines data that will be used to create a given instance of resource. To create a single instance of a resource, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be a javascript object, and to create multiple instances of a resources, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be an array of javascript objects.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"filter"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"dimension")," and other import parameters), request config (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and the DHIS2 apiVersion.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a program"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('programs', {\n  name: 'name 20',\n  shortName: 'n20',\n  programType: 'WITHOUT_REGISTRATION',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a single event"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('events', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'DiszpKrYNg8',\n  status: 'COMPLETED',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a single tracker entity. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import"},"Create tracker docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('trackedEntities', {\n  orgUnit: 'TSyzvBiovKh',\n  trackedEntityType: 'nEenWmSyUEp',\n  attributes: [\n    {\n      attribute: 'w75KJ2mc4zz',\n      value: 'Gigiwe',\n    },\n  ]\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataSets', { name: 'OpenFn Data Set', periodType: 'Monthly' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a dataSetNotification"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataSetNotificationTemplates', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello',\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataElement"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElements', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataElementGroup"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElementGroups', {\n  name: 'Data Element Group 1',\n  dataElements: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataElementGroupSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataElementGroupSets', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataValueSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataValueSets', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create a dataValueSet with related dataValues"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create an enrollment"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"create('enrollments', {\n  trackedEntity: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'gZBxv9Ujxg0',\n  enrollmentDate: '2013-09-17',\n  incidentDate: '2013-09-17',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create an multiple objects with the Tracker API"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},' create("tracker", {\n  enrollments: [\n    {\n      trackedEntity: "bmshzEacgxa",\n      orgUnit: "TSyzvBiovKh",\n      program: "gZBxv9Ujxg0",\n      enrollmentDate: "2013-09-17",\n      incidentDate: "2013-09-17",\n    },\n  ],\n  trackedEntities: [\n    {\n      orgUnit: "TSyzvBiovKh",\n      trackedEntityType: "nEenWmSyUEp",\n      attributes: [\n        {\n          attribute: "w75KJ2mc4zz",\n          value: "Gigiwe",\n        },\n      ],\n    },\n  ],\n});\n')),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"destroy"},"destroy"),(0,r.yg)("p",null,(0,r.yg)("code",null,"destroy(resourceType, path, [data], [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Delete a record. A generic helper function to delete an object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be deleted. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntities"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Can be an ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," of an ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"nested object")," to ",(0,r.yg)("inlineCode",{parentName:"td"},"delete"),".")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[data]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional. This is useful when you want to remove multiple objects from a collection in one request. You can send ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," as, for example, ",(0,r.yg)("inlineCode",{parentName:"td"},'{"identifiableObjects": [{"id": "IDA"}, {"id": "IDB"}, {"id": "IDC"}]}'),". See more ",(0,r.yg)("a",{parentName:"td",href:"https://docs.dhis2.org/2.34/en/dhis2_developer_manual/web-api.html#deleting-objects"},"on DHIS2 API docs"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," for ",(0,r.yg)("inlineCode",{parentName:"td"},"del")," operation including params e.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"{preheatCache: true, strategy: 'UPDATE', mergeMode: 'REPLACE'}"),". Run ",(0,r.yg)("inlineCode",{parentName:"td"},"discover")," or see ",(0,r.yg)("a",{parentName:"td",href:"https://docs.dhis2.org/2.34/en/dhis2_developer_manual/web-api.html#create-update-parameters"},"DHIS2 documentation"),". Defaults to ",(0,r.yg)("inlineCode",{parentName:"td"},"{operationName: 'delete', apiVersion: state.configuration.apiVersion, responseType: 'json'}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a tracked entity instance. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import"},"Delete tracker docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"destroy('trackedEntities', 'LcRd6Nyaq7T');\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"discover"},"discover"),(0,r.yg)("p",null,(0,r.yg)("code",null,"discover(httpMethod, endpoint) \u21d2 Operation")),(0,r.yg)("p",null,"Discover ",(0,r.yg)("inlineCode",{parentName:"p"},"DHIS2")," ",(0,r.yg)("inlineCode",{parentName:"p"},"api")," ",(0,r.yg)("inlineCode",{parentName:"p"},"endpoint")," ",(0,r.yg)("inlineCode",{parentName:"p"},"query parameters")," and allowed ",(0,r.yg)("inlineCode",{parentName:"p"},"operators")," for a given resource's endpoint."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"httpMethod"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The HTTP to inspect parameter usage for a given endpoint, e.g., ",(0,r.yg)("inlineCode",{parentName:"td"},"get"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"post"),",",(0,r.yg)("inlineCode",{parentName:"td"},"put"),",",(0,r.yg)("inlineCode",{parentName:"td"},"patch"),",",(0,r.yg)("inlineCode",{parentName:"td"},"delete"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"endpoint"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The path for a given endpoint. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"/trackedEntities")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"/dataValueSets"))))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a list of parameters allowed on a given endpoint for specific http method"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"discover('post', '/trackedEntities')\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"dv"},"dv"),(0,r.yg)("p",null,(0,r.yg)("code",null,"dv(dataElement, value) \u21d2 object")),(0,r.yg)("p",null,"Converts a dataElement and value into a DHIS2 dataValue object"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"dataElement"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"A data element ID.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"value"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The value for that data element.")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"dv('f7n9E0hX8qk', 12)\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"findattributevalue"},"findAttributeValue"),(0,r.yg)("p",null,(0,r.yg)("code",null,"findAttributeValue(trackedEntity, attributeDisplayName) \u21d2 string")),(0,r.yg)("p",null,"Gets an attribute value by its case-insensitive display name"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"trackedEntity"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A tracked entity instance (TEI) object")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"attributeDisplayName"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The 'displayName' to search for in the TEI's attributes")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"findAttributeValue(state.data.trackedEntities[0], 'first name')\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"findattributevaluebyid"},"findAttributeValueById"),(0,r.yg)("p",null,(0,r.yg)("code",null,"findAttributeValueById(trackedEntity, attributeUid) \u21d2 string")),(0,r.yg)("p",null,"Gets an attribute value by its uid"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"trackedEntity"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A tracked entity instance (TEI) object")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"attributeUid"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The uid to search for in the TEI's attributes")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"findAttributeValueById(state.tei, 'y1w2R6leVmh')\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"get"},"get"),(0,r.yg)("p",null,(0,r.yg)("code",null,"get(resourceType, query, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Get data. Generic helper method for getting data of any kind from DHIS2."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"This can be used to get ",(0,r.yg)("inlineCode",{parentName:"li"},"DataValueSets"),",",(0,r.yg)("inlineCode",{parentName:"li"},"events"),",",(0,r.yg)("inlineCode",{parentName:"li"},"trackers"),",",(0,r.yg)("inlineCode",{parentName:"li"},"etc."))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns"),": ",(0,r.yg)("code",null,"Operation")," - state  "),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Default"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to get(use its ",(0,r.yg)("inlineCode",{parentName:"td"},"plural")," name). E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"tracker/trackedEntities"),",",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"query"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"A query object that will limit what resources are retrieved when converted into request params.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params beyond filters, request configuration (e.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and DHIS2 api version to use.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options.params]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"The parameters for the request.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options.requestConfig]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"The configuration for the request, including headers, etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options.asBase64]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"boolean")),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"false")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional flag to indicate if the response should be returned as a Base64 encoded string.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null}),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get all data values for the 'pBOMPrpg1QX' dataset"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('dataValueSets', {\n  dataSet: 'pBOMPrpg1QX',\n  orgUnit: 'DiszpKrYNg8',\n  period: '201401',\n  fields: '*',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get all programs for an organization unit"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('programs', { orgUnit: 'TSyzvBiovKh', fields: '*' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get a single tracked entity given the provided ID. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#tracked-entities-get-apitrackertrackedentities"},"TrackedEntities docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('tracker/trackedEntities/F8yKM85NbxW');\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get an enrollment given the provided ID. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#enrollments-get-apitrackerenrollments"},"Enrollment docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('tracker/enrollments/abcd');\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get all events matching given criteria. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#events-get-apitrackerevents"},"Events docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('tracker/events');\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Get the relationship between two tracker entities. The only required parameters are 'trackedEntity', 'enrollment' or 'event'. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#relationships-get-apitrackerrelationships"},"Relationships docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"get('tracker/relationships', {\n  trackedEntity:['F8yKM85NbxW'],\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"patch"},"patch"),(0,r.yg)("p",null,(0,r.yg)("code",null,"patch(resourceType, path, data, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Patch a record. A generic helper function to send partial updates on one or more object properties."),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"You are not required to send the full body of object properties."),(0,r.yg)("li",{parentName:"ul"},"This is useful for cases where you don't want or need to update all properties on a object.")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83/{collection-name}/{object-id}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Data to update. Include only the fields you want to update. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},'{name: "New Name"}'))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional configuration, including params for the update ({preheatCache: true, strategy: 'UPDATE', mergeMode: 'REPLACE'}). Defaults to ",(0,r.yg)("inlineCode",{parentName:"td"},"{operationName: 'patch', apiVersion: state.configuration.apiVersion, responseType: 'json'}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a dataElement"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"patch('dataElements', 'FTRrcoaog83', { name: 'New Name' });\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"post"},"post"),(0,r.yg)("p",null,(0,r.yg)("code",null,"post(resourceType, data, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Post data. Generic helper method for posting data of any kind to DHIS2.\nThis can be used to create ",(0,r.yg)("inlineCode",{parentName:"p"},"DataValueSets"),",",(0,r.yg)("inlineCode",{parentName:"p"},"events"),",",(0,r.yg)("inlineCode",{parentName:"p"},"trackers"),",etc."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Returns"),": ",(0,r.yg)("code",null,"Operation")," - state  "),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"Type of resource to create. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntities"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"programs"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"events"),", ...")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Dhis2Data")),(0,r.yg)("td",{parentName:"tr",align:null},"Object which defines data that will be used to create a given instance of resource. To create a single instance of a resource, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be a javascript object, and to create multiple instances of a resources, ",(0,r.yg)("inlineCode",{parentName:"td"},"data")," must be an array of javascript objects.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"filter"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"dimension")," and other import parameters), request config (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and the DHIS2 apiVersion.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Create an event"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},'post("tracker", {\n  events: [\n    {\n      program: "eBAyeGv0exc",\n      orgUnit: "DiszpKrYNg8",\n      status: "COMPLETED",\n    },\n  ],\n});\n')),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"update"},"update"),(0,r.yg)("p",null,(0,r.yg)("code",null,"update(resourceType, path, data, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Update data. A generic helper function to update a resource object of any type.\nUpdating an object requires to send ",(0,r.yg)("inlineCode",{parentName:"p"},"all required fields")," or the ",(0,r.yg)("inlineCode",{parentName:"p"},"full body")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of resource to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"dataElements"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"organisationUnits"),", etc.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"path"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The ",(0,r.yg)("inlineCode",{parentName:"td"},"id")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"path")," to the ",(0,r.yg)("inlineCode",{parentName:"td"},"object")," to be updated. E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"FTRrcoaog83/{collection-name}/{object-id}"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Data to update. It requires to send ",(0,r.yg)("inlineCode",{parentName:"td"},"all required fields")," or the ",(0,r.yg)("inlineCode",{parentName:"td"},"full body"),". If you want ",(0,r.yg)("inlineCode",{parentName:"td"},"partial updates"),", use ",(0,r.yg)("inlineCode",{parentName:"td"},"patch")," operation.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional ",(0,r.yg)("inlineCode",{parentName:"td"},"options")," to define URL parameters via params (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"filter"),", ",(0,r.yg)("inlineCode",{parentName:"td"},"dimension")," and other import parameters), request config (E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"auth"),") and the DHIS2 apiVersion.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a program"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('programs', 'qAZJCrNJK8H', {\n  name: '14e1aa02c3f0a31618e096f2c6d03bed',\n  shortName: '14e1aa02',\n  programType: 'WITHOUT_REGISTRATION',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," an event"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('events', 'PVqUD2hvU4E', {\n  program: 'eBAyeGv0exc',\n  orgUnit: 'Ngelehun CHC',\n  status: 'COMPLETED',\n  storedBy: 'admin',\n  dataValues: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a tracker entity. See ",(0,r.yg)("a",{parentName:"p",href:"https://docs.dhis2.org/en/develop/using-the-api/dhis-core-version-241/tracker.html#webapi_nti_import"},"Update tracker docs")),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('trackedEntities', '', {\n  createdAt: '2015-08-06T21:12:37.256',\n  orgUnit: 'TSyzvBiovKh',\n  createdAtClient: '2015-08-06T21:12:37.256',\n  trackedEntity: 'IeQfgUtGPq2',\n  trackedEntityType: 'nEenWmSyUEp',\n  inactive: false,\n  deleted: false,\n  featureType: 'NONE',\n  programOwners: [\n    {\n      ownerOrgUnit: 'TSyzvBiovKh',\n      program: 'IpHINAT79UW',\n      trackedEntity: 'IeQfgUtGPq2',\n    },\n  ],\n  attributes: [\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      displayName: 'Last name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'zDhUuAYrxNC',\n      value: 'Russell',\n    },\n    {\n      lastUpdated: '2016-01-12T00:00:00.000',\n      code: 'MMD_PER_NAM',\n      displayName: 'First name',\n      created: '2016-01-12T00:00:00.000',\n      valueType: 'TEXT',\n      attribute: 'w75KJ2mc4zz',\n      value: 'Catherine',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataSets', 'lyLU2wR22tC', { name: 'OpenFN Data Set', periodType: 'Weekly' });\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," a dataSetNotification"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataSetNotificationTemplates', 'VbQBwdm1wVP', {\n  dataSetNotificationTrigger: 'DATA_SET_COMPLETION',\n  notificationRecipient: 'ORGANISATION_UNIT_CONTACT',\n  name: 'Notification',\n  messageTemplate: 'Hello Updated',\n  deliveryChannels: ['SMS'],\n  dataSets: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataElement"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElements', 'FTRrcoaog83', {\n  aggregationType: 'SUM',\n  domainType: 'AGGREGATE',\n  valueType: 'NUMBER',\n  name: 'Paracetamol',\n  shortName: 'Para',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataElementGroup"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElementGroups', 'QrprHT61XFk', {\n  name: 'Data Element Group 1',\n  dataElements: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataElementGroupSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataElementGroupSets', 'VxWloRvAze8', {\n  name: 'Data Element Group Set 4',\n  dataDimension: true,\n  shortName: 'DEGS4',\n  dataElementGroups: [],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataValueSet"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataValueSets', 'AsQj6cDsUq4', {\n  dataElement: 'f7n9E0hX8qk',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  value: '12',\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update a dataValueSet with related dataValues"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('dataValueSets', 'Ix2HsbDMLea', {\n  dataSet: 'pBOMPrpg1QX',\n  completeDate: '2014-02-03',\n  period: '201401',\n  orgUnit: 'DiszpKrYNg8',\n  dataValues: [\n    {\n      dataElement: 'f7n9E0hX8qk',\n      value: '1',\n    },\n    {\n      dataElement: 'Ix2HsbDMLea',\n      value: '2',\n    },\n    {\n      dataElement: 'eY5ehpbEsB7',\n      value: '3',\n    },\n  ],\n});\n")),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Update an enrollment given the provided ID"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"update('enrollments', 'CmsHzercTBa' {\n  trackedEntity: 'bmshzEacgxa',\n  orgUnit: 'TSyzvBiovKh',\n  program: 'gZBxv9Ujxg0',\n  enrollmentDate: '2013-10-17',\n  incidentDate: '2013-10-17',\n});\n")),(0,r.yg)("hr",null),(0,r.yg)("h3",{id:"upsert"},"upsert"),(0,r.yg)("p",null,(0,r.yg)("code",null,"upsert(resourceType, query, data, [options], [callback]) \u21d2 Operation")),(0,r.yg)("p",null,"Upsert a record. A generic helper function used to atomically either insert a row, or on the basis of the row already existing, UPDATE that existing row instead."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Throws"),":"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("code",null,"RangeError")," - Throws range error")),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Param"),(0,r.yg)("th",{parentName:"tr",align:null},"Type"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"resourceType"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"string")),(0,r.yg)("td",{parentName:"tr",align:null},"The type of a resource to ",(0,r.yg)("inlineCode",{parentName:"td"},"upsert"),". E.g. ",(0,r.yg)("inlineCode",{parentName:"td"},"trackedEntities"))),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"query"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"A query object that allows to uniquely identify the resource to update. If no matches found, then the resource will be created.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"data"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"The data to use for update or create depending on the result of the query.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[options]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"Object")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional configuration that will be applied to both the ",(0,r.yg)("inlineCode",{parentName:"td"},"get")," and the ",(0,r.yg)("inlineCode",{parentName:"td"},"create")," or ",(0,r.yg)("inlineCode",{parentName:"td"},"update")," operations.")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"[callback]"),(0,r.yg)("td",{parentName:"tr",align:null},(0,r.yg)("code",null,"function")),(0,r.yg)("td",{parentName:"tr",align:null},"Optional callback to handle the response")))),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Example:")," Upsert a trackedEntity"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-js"},"upsert('trackedEntities', {\n orgUnit: 'TSyzvBiovKh',\n filter: ['w75KJ2mc4zz:Eq:Qassim'],\n}, {\n orgUnit: 'TSyzvBiovKh',\n trackedEntityType: 'nEenWmSyUEp',\n attributes: [\n   {\n     attribute: 'w75KJ2mc4zz',\n     value: 'Qassim',\n   },\n ],\n});\n")),(0,r.yg)("hr",null))}u.isMDXComponent=!0},15680:(e,t,a)=>{a.d(t,{xA:()=>d,yg:()=>m});var n=a(96540);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function g(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?l(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):l(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function p(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var i=n.createContext({}),o=function(e){var t=n.useContext(i),a=t;return e&&(a="function"==typeof e?e(t):g(g({},t),e)),a},d=function(e){var t=o(e.components);return n.createElement(i.Provider,{value:t},e.children)},y="mdxType",u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},s=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,l=e.originalType,i=e.parentName,d=p(e,["components","mdxType","originalType","parentName"]),y=o(a),s=r,m=y["".concat(i,".").concat(s)]||y[s]||u[s]||l;return a?n.createElement(m,g(g({ref:t},d),{},{components:a})):n.createElement(m,g({ref:t},d))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=a.length,g=new Array(l);g[0]=s;var p={};for(var i in t)hasOwnProperty.call(t,i)&&(p[i]=t[i]);p.originalType=e,p[y]="string"==typeof e?e:r,g[1]=p;for(var o=2;o<l;o++)g[o]=a[o];return n.createElement.apply(null,g)}return n.createElement.apply(null,a)}s.displayName="MDXCreateElement"}}]);