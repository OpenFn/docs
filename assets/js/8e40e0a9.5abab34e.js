"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[93963],{22145:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>g,contentTitle:()=>i,default:()=>y,frontMatter:()=>o,metadata:()=>l,toc:()=>d});var n=r(58168),a=(r(96540),r(15680));const o={title:"Work Order & Run Status Codes",sidebar_label:"Status Codes"},i=void 0,l={unversionedId:"monitor-history/status-codes",id:"monitor-history/status-codes",title:"Work Order & Run Status Codes",description:"Work Order Status",source:"@site/docs/monitor-history/status-codes.md",sourceDirName:"monitor-history",slug:"/monitor-history/status-codes",permalink:"/documentation/monitor-history/status-codes",draft:!1,editUrl:"https://github.com/openfn/docs/edit/main/docs/monitor-history/status-codes.md",tags:[],version:"current",frontMatter:{title:"Work Order & Run Status Codes",sidebar_label:"Status Codes"},sidebar:"docs",previous:{title:"Logs & Troubleshooting",permalink:"/documentation/monitor-history/troubleshooting"},next:{title:"Project Management",permalink:"/documentation/manage-projects/platform-mgmt"}},g={},d=[{value:"Work Order Status",id:"work-order-status",level:2},{value:"Run Status",id:"run-status",level:2},{value:"*Note on error handling within a workflow",id:"note-on-error-handling-within-a-workflow",level:3}],s={toc:d},p="wrapper";function y(e){let{components:t,...r}=e;return(0,a.yg)(p,(0,n.A)({},s,r,{components:t,mdxType:"MDXLayout"}),(0,a.yg)("h2",{id:"work-order-status"},"Work Order Status"),(0,a.yg)("p",null,"A ",(0,a.yg)("inlineCode",{parentName:"p"},"Work Order"),' is a request to start the execution of an OpenFn Workflow with a\ngiven input (e.g., "complete the referral workflow for patient 123"). A Work\nOrder is the typically the unit of business value for an organization, because\nusers want to make sure each workflow request has been processed successfully.'),(0,a.yg)("p",null,'Because administrators may want to run the same Work Order multiple times (e.g.,\n"try to complete the referral workflow for patient 123 again now that the\ngovernment case management system is back online") the "status" of a Work Order\nis determined by the status of the ',(0,a.yg)("em",{parentName:"p"},"last")," Run for that Work Order."),(0,a.yg)("p",null,'I.e., if the "complete the referral workflow for patient 123" Work Order has\nbeen run twice and the first run attempt failed but the second run succeeded,\nthe "status" for that Work Order will be "success".'),(0,a.yg)("h2",{id:"run-status"},"Run Status"),(0,a.yg)("p",null,"Every Run has a status which indicates whether it completed successfully."),(0,a.yg)("table",null,(0,a.yg)("thead",{parentName:"table"},(0,a.yg)("tr",{parentName:"thead"},(0,a.yg)("th",{parentName:"tr",align:"left"},"Status"),(0,a.yg)("th",{parentName:"tr",align:"center"},"Chip"),(0,a.yg)("th",{parentName:"tr",align:"center"},"Type"),(0,a.yg)("th",{parentName:"tr",align:"center"},"Abort Run?","*"),(0,a.yg)("th",{parentName:"tr",align:"left"},"Description/Example"))),(0,a.yg)("tbody",{parentName:"table"},(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Pending"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\u26aa"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"-"),(0,a.yg)("td",{parentName:"tr",align:"left"},"The run is waiting for an available worker to begin execution")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Running"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udd35"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"-"),(0,a.yg)("td",{parentName:"tr",align:"left"},"The run is still in progress")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Success"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe2"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"-"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Either all the steps in this run succeeded ",(0,a.yg)("em",{parentName:"td"},"or")," every error was properly handled. Technically, a run is successful if the final step in each branch (the leaf node) succeeds")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Failed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udd34"),(0,a.yg)("td",{parentName:"tr",align:"center"},"JobError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"No"),(0,a.yg)("td",{parentName:"tr",align:"left"},"A request failed with status code 404")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Failed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udd34"),(0,a.yg)("td",{parentName:"tr",align:"center"},"TypeError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"No"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Try to reference ",(0,a.yg)("inlineCode",{parentName:"td"},"state.data.patient.age")," when ",(0,a.yg)("inlineCode",{parentName:"td"},"state.data.patient")," is ",(0,a.yg)("inlineCode",{parentName:"td"},"undefined"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Failed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udd34"),(0,a.yg)("td",{parentName:"tr",align:"center"},"RangeError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"No"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Calling ",(0,a.yg)("inlineCode",{parentName:"td"},"state.patients[5]")," when only 2 patients exist")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Crashed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe0"),(0,a.yg)("td",{parentName:"tr",align:"center"},"SyntaxError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"You've got some bad JavaScript and the worker cannot compile your job code")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Crashed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe0"),(0,a.yg)("td",{parentName:"tr",align:"center"},"ReferenceError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"You've got an undeclared variable in your job code")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Cancelled"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\u26aa"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"A user aborted the execution")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Killed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe1"),(0,a.yg)("td",{parentName:"tr",align:"center"},"SecurityError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Your code failed security checks, e.g. tried to use ",(0,a.yg)("inlineCode",{parentName:"td"},"eval"))),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Killed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe1"),(0,a.yg)("td",{parentName:"tr",align:"center"},"ImportError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"You tried to import external module that we don't allow")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Killed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe1"),(0,a.yg)("td",{parentName:"tr",align:"center"},"OomError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Your run used more memory than allowed by the Lightning instance")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Killed"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\ud83d\udfe1"),(0,a.yg)("td",{parentName:"tr",align:"center"},"TimeoutError"),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Took longer than the maximum runtime allowed by the Lightning instance")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Exception"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\u26ab"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"An error occurred that we didn't expect (the instance superuser has been notified)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Lost"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\u26ab"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"Yes"),(0,a.yg)("td",{parentName:"tr",align:"left"},"Lightning lost communication with the worker (the instance superuser has been notified)")),(0,a.yg)("tr",{parentName:"tbody"},(0,a.yg)("td",{parentName:"tr",align:"left"},"Rejected"),(0,a.yg)("td",{parentName:"tr",align:"center"},"\u26aa"),(0,a.yg)("td",{parentName:"tr",align:"center"}),(0,a.yg)("td",{parentName:"tr",align:"center"},"-"),(0,a.yg)("td",{parentName:"tr",align:"left"},"The instance administrator won't process this run request because your project has reached its run limit")))),(0,a.yg)("h3",{id:"note-on-error-handling-within-a-workflow"},"*","Note on error handling within a workflow"),(0,a.yg)("p",null,"Note that if a workflow step fails (e.g., ",(0,a.yg)("inlineCode",{parentName:"p"},"JobError"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"TypeError"),", ",(0,a.yg)("inlineCode",{parentName:"p"},"RangeError"),')\nthe OpenFn worker will continue processing the workflow as there may be error\nhandling rules in downstream edges. (E.g., "If step 3 fails, execute step 4.")'),(0,a.yg)("p",null,"If a step fails with a crash (e.g., ",(0,a.yg)("inlineCode",{parentName:"p"},"Syntax Error"),") the worker won't be able to\nexecute any downstream logic and the whole attempt will be aborted."))}y.isMDXComponent=!0},15680:(e,t,r)=>{r.d(t,{xA:()=>s,yg:()=>m});var n=r(96540);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var g=n.createContext({}),d=function(e){var t=n.useContext(g),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},s=function(e){var t=d(e.components);return n.createElement(g.Provider,{value:t},e.children)},p="mdxType",y={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},c=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,g=e.parentName,s=l(e,["components","mdxType","originalType","parentName"]),p=d(r),c=a,m=p["".concat(g,".").concat(c)]||p[c]||y[c]||o;return r?n.createElement(m,i(i({ref:t},s),{},{components:r})):n.createElement(m,i({ref:t},s))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=c;var l={};for(var g in t)hasOwnProperty.call(t,g)&&(l[g]=t[g]);l.originalType=e,l[p]="string"==typeof e?e:a,i[1]=l;for(var d=2;d<o;d++)i[d]=r[d];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}c.displayName="MDXCreateElement"}}]);