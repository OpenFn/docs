"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[70713],{28453:(o,e,s)=>{s.d(e,{R:()=>i,x:()=>a});var n=s(96540);const t={},r=n.createContext(t);function i(o){const e=n.useContext(r);return n.useMemo((function(){return"function"==typeof o?o(e):{...e,...o}}),[e,o])}function a(o){let e;return e=o.disableParentContext?"function"==typeof o.components?o.components(t):o.components||t:i(o.components),n.createElement(r.Provider,{value:e},o.children)}},67280:(o,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>a,default:()=>d,frontMatter:()=>i,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"library/jobs/auto/kobotoolbox-get-submissions","title":"Extract submissions from KoboToolbox","description":"\ud83d\udcdc This job is an official example from OpenFn.","source":"@site/adaptors/library/jobs/auto/kobotoolbox-get-submissions.md","sourceDirName":"library/jobs/auto","slug":"/library/jobs/auto/kobotoolbox-get-submissions","permalink":"/adaptors/library/jobs/auto/kobotoolbox-get-submissions","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Extract submissions from KoboToolbox","sidebar_label":"\ud83d\udcdc Extract submissions from KoboToolbox","id":"kobotoolbox-get-submissions","keywords":["library","job","expression","kobotoolbox","each","getForms"]},"sidebar":"adaptors","previous":{"title":"\ud83d\udcdc Create an asset in KoboToolbox","permalink":"/adaptors/library/jobs/auto/kobotoolbox-get-suspected-patients"},"next":{"title":"Changelog","permalink":"/adaptors/packages/kobotoolbox-changelog"}}');var t=s(74848),r=s(28453);const i={title:"Extract submissions from KoboToolbox",sidebar_label:"\ud83d\udcdc Extract submissions from KoboToolbox",id:"kobotoolbox-get-submissions",keywords:["library","job","expression","kobotoolbox","each","getForms"]},a=void 0,l={},c=[{value:"Metadata",id:"metadata",level:2},{value:"Key Functions",id:"key-functions",level:2},{value:"Expression",id:"expression",level:2}];function b(o){const e={a:"a",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,r.R)(),...o.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(e.p,{children:["\ud83d\udcdc ",(0,t.jsx)("em",{children:"This job is an official example from OpenFn."})]}),"\n",(0,t.jsx)(e.h2,{id:"metadata",children:"Metadata"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Name: Extract submissions from KoboToolbox"}),"\n",(0,t.jsxs)(e.li,{children:["Adaptor: ",(0,t.jsx)(e.a,{href:"https://www.github.com/openfn/language-kobotoolbox",children:(0,t.jsx)(e.code,{children:"@openfn/language-kobotoolbox"})})]}),"\n",(0,t.jsxs)(e.li,{children:["Adaptor Version: ",(0,t.jsx)(e.a,{href:"https://www.github.com/openfn/language-kobotoolbox",children:(0,t.jsx)(e.code,{children:"latest"})})]}),"\n",(0,t.jsx)(e.li,{children:"Created date unknown"}),"\n",(0,t.jsx)(e.li,{children:"Updated date unknown"}),"\n",(0,t.jsxs)(e.li,{children:["Score: ",(0,t.jsx)("b",{children:"100"})," (an ",(0,t.jsx)(e.a,{href:"/adaptors/library/#library-scores",children:"indicator"})," of how useful this job may be)"]}),"\n"]}),"\n",(0,t.jsx)(e.h2,{id:"key-functions",children:"Key Functions"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.code,{children:"each"}),", ",(0,t.jsx)(e.code,{children:"getForms"})]}),"\n",(0,t.jsx)(e.h2,{id:"expression",children:"Expression"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-js",children:'//Get all Kobo forms/projects, and then get form submissions\n//that were submitted after a specific time\ncursor($.cursor, { defaultValue: \'today\' });\n\ngetForms();\n\neach(\n  $.data,\n  getSubmissions($.data.uid, {\n    query: `{"_submission_time":{"$gte":"${$.cursor}"}}`,\n  })\n);\n\n'})})]})}function d(o={}){const{wrapper:e}={...(0,r.R)(),...o.components};return e?(0,t.jsx)(e,{...o,children:(0,t.jsx)(b,{...o})}):b(o)}}}]);