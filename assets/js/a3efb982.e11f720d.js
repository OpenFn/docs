"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[13755],{18663:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>c,contentTitle:()=>a,default:()=>h,frontMatter:()=>i,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"monitor-history/activity-history","title":"History & Search in OpenFn","description":"For platform administrators, History is your central console for monitoring","source":"@site/docs/monitor-history/activity-history.md","sourceDirName":"monitor-history","slug":"/monitor-history/activity-history","permalink":"/documentation/monitor-history/activity-history","draft":false,"unlisted":false,"editUrl":"https://github.com/openfn/docs/edit/main/docs/monitor-history/activity-history.md","tags":[],"version":"current","frontMatter":{"title":"History & Search in OpenFn","sidebar_label":"History & Search"},"sidebar":"docs","previous":{"title":"Workflows API","permalink":"/documentation/build/workflows-api"},"next":{"title":"Inspect Runs","permalink":"/documentation/monitor-history/inspect-runs"}}');var n=r(74848),o=r(28453);const i={title:"History & Search in OpenFn",sidebar_label:"History & Search"},a=void 0,c={},l=[{value:"History",id:"history",level:2},{value:"Workflow execution: Work Orders and Runs",id:"workflow-execution-work-orders-and-runs",level:2},{value:"How Search Works",id:"how-search-works",level:2},{value:"Search &amp; Filter Results",id:"search--filter-results",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(t.p,{children:["For platform administrators, ",(0,n.jsx)(t.code,{children:"History"})," is your central console for monitoring\nall activity across your active Workflows. Read on to understand its key\ncomponents."]}),"\n",(0,n.jsx)(t.h2,{id:"history",children:"History"}),"\n",(0,n.jsxs)(t.p,{children:["The ",(0,n.jsx)(t.code,{children:"History"})," page provides a list of all of the\n",(0,n.jsx)(t.a,{href:"/documentation/get-started/terminology#work-order",children:"Work Orders"})," and\n",(0,n.jsx)(t.a,{href:"/documentation/get-started/terminology#run",children:"Runs"})," that have been processed in a\nProject."]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"History",src:r(28210).A+"",width:"2856",height:"1442"})}),"\n",(0,n.jsx)(t.h2,{id:"workflow-execution-work-orders-and-runs",children:"Workflow execution: Work Orders and Runs"}),"\n",(0,n.jsx)(t.p,{children:"OpenFn Workflows are executed as follows:"}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsxs)(t.li,{children:["A Workflow ",(0,n.jsx)(t.code,{children:"Trigger"})," is activated by a webhook event, cron timer, or manual\naction."]}),"\n",(0,n.jsxs)(t.li,{children:["This creates a ",(0,n.jsx)(t.code,{children:"Work Order"})," - a request to run a Workflow with a given input\n(e.g, a new form submission or patient record that needs to be processed).\nFor a ",(0,n.jsx)(t.code,{children:"Work Order"})," to be completed, it should reach an ending Step\nsuccesfully (without errors) - this ensures that the processing has been\ncompleted."]}),"\n",(0,n.jsxs)(t.li,{children:["A ",(0,n.jsx)(t.code,{children:"Run"})," is then executed to try to complete the Workflow successfully. This\nRun will have a ",(0,n.jsx)(t.a,{href:"/documentation/monitor-history/status-codes",children:"status code"}),",\nindicating whether the Workflow Steps were successfully processed."]}),"\n",(0,n.jsxs)(t.li,{children:["If the 1st ",(0,n.jsx)(t.code,{children:"Run"}),' fails, then you can rerun it to "retry" the workflow. A 2nd\n',(0,n.jsx)(t.code,{children:"Run"})," will be created. If successful, then both the Run and related Work\nOrder will be updated with a ",(0,n.jsx)(t.code,{children:"success"})," status."]}),"\n"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"History Page",src:r(65436).A+"",width:"2300",height:"1107"})}),"\n",(0,n.jsx)(t.p,{children:"Check out the other pages in this docs section to learn more about inspecting\nRuns, troubleshooting, and rerunning failed Runs."}),"\n",(0,n.jsx)(t.h2,{id:"how-search-works",children:"How Search Works"}),"\n",(0,n.jsxs)(t.p,{children:["Via the searchbar on the history page you can find work orders whose ",(0,n.jsx)(t.em,{children:"related"}),"\ninput/output dataclips or run logs contain specific text strings. By default,\nthe system will search run logs only but you can select to search any or all of\nthree options:"]}),"\n",(0,n.jsx)(t.p,{children:(0,n.jsx)(t.img,{alt:"Search Options",src:r(22310).A+"",width:"600",height:"119"})}),"\n",(0,n.jsxs)(t.ol,{children:["\n",(0,n.jsx)(t.li,{children:"OpenFn UUIDs for workorders, runs, or steps"}),"\n",(0,n.jsx)(t.li,{children:"Input/Output dataclip bodies"}),"\n",(0,n.jsx)(t.li,{children:"Run logs"}),"\n"]}),"\n",(0,n.jsxs)(t.p,{children:["If searching for text within an input/output dataclip or run logs, a ",(0,n.jsx)(t.code,{children:"tsvector"}),'\nsearch is applied. This method of searching allows you to find work orders\nquickly and allows for partial string matches across all text in the run logs\nand across the "keys" and "values" of your dataclips.']}),"\n",(0,n.jsxs)(t.admonition,{title:"Very large/complex input dataclips may not be indexed",type:"caution",children:[(0,n.jsxs)(t.p,{children:["It's not currently possible to create ",(0,n.jsx)(t.code,{children:"ts_vector"})," indexes larger than 1MB, and\nas a result very large or complex input dataclips may not appear in search\nresults. This typically won't happen until you're nearing 10MB of JSON, but the\nnumber of distinct lexemes & positions in your JSON will impact the final index\nsize."]}),(0,n.jsxs)(t.p,{children:["More at the Postgres\n",(0,n.jsx)(t.a,{href:"https://www.postgresql.org/docs/current/textsearch-limitations.html",children:'"text search limitations" docs page'}),"."]})]}),"\n",(0,n.jsxs)(t.p,{children:["Partial string matching works best at the start of words, so if you're looking\nfor items matching ",(0,n.jsx)(t.code,{children:'"newPatient"'})," it's better to search for ",(0,n.jsx)(t.code,{children:'"newPat"'})," than for\n",(0,n.jsx)(t.code,{children:'"tient"'}),". (When in doubt, whole words or IDs produce the best results.)"]}),"\n",(0,n.jsx)(t.h2,{id:"search--filter-results",children:"Search & Filter Results"}),"\n",(0,n.jsxs)(t.p,{children:["Even though you can search for text strings that appear in specific run logs or\ndataclips, it's important to remember that the results returned are still ",(0,n.jsx)(t.strong,{children:"work\norders"}),'. If the output dataclips of the third step in the first run of work\norder "123" matches your text search, you\'ll see work order "123" in your\nresults.']})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,n.jsx)(t,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},22310:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/search-options-9b992dc3392030a99d189cc087c6c934.png"},28210:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/case-referral-history-10617e7207e08eb9739294ed3e534549.png"},28453:(e,t,r)=>{r.d(t,{R:()=>i,x:()=>a});var s=r(96540);const n={},o=s.createContext(n);function i(e){const t=s.useContext(o);return s.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:i(e.components),s.createElement(o.Provider,{value:t},e.children)}},65436:(e,t,r)=>{r.d(t,{A:()=>s});const s=r.p+"assets/images/history-page-annotated-725bb0cac6eb92abfb2bc4033f766ffe.png"}}]);