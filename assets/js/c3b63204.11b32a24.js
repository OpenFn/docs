"use strict";(self.webpackChunk_openfn_docs=self.webpackChunk_openfn_docs||[]).push([[81202],{67745:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>g,contentTitle:()=>i,default:()=>d,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var a=n(58168),r=(n(96540),n(15680));const l={title:"Limits"},i=void 0,o={unversionedId:"build/limits",id:"build/limits",title:"Limits",description:"OpenFn cloud hosted instance has a number of limits that help ensure smooth",source:"@site/docs/build/limits.md",sourceDirName:"build",slug:"/build/limits",permalink:"/documentation/build/limits",draft:!1,editUrl:"https://github.com/openfn/docs/edit/main/docs/build/limits.md",tags:[],version:"current",frontMatter:{title:"Limits"},sidebar:"docs",previous:{title:"Collections",permalink:"/documentation/build/collections"},next:{title:"Edit Steps locally",permalink:"/documentation/build/editing-locally"}},g={},p=[{value:"Workflow execution duration (1 hour)",id:"workflow-execution-duration-1-hour",level:2},{value:"Memory Usage (1GB)",id:"memory-usage-1gb",level:2},{value:"Dataclip Size (10MB)",id:"dataclip-size-10mb",level:2}],m={toc:p},u="wrapper";function d(e){let{components:t,...n}=e;return(0,r.yg)(u,(0,a.A)({},m,n,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"OpenFn cloud hosted instance has a number of limits that help ensure smooth\noperation. The table below shows the limits for different plans. For a more\ndetailed list of limits, see the\n",(0,r.yg)("a",{parentName:"p",href:"https://openfn.org/pricing"},"OpenFn pricing page"),". For self hosted instances,\nthese limits are configurable. See the\n",(0,r.yg)("a",{parentName:"p",href:"https://openfn.github.io/lightning/deployment.html#limits"},"deployment guide"),"\nfor more details."),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:null},"Feature"),(0,r.yg)("th",{parentName:"tr",align:null},"Description"),(0,r.yg)("th",{parentName:"tr",align:null},"DPG"),(0,r.yg)("th",{parentName:"tr",align:null},"Free"),(0,r.yg)("th",{parentName:"tr",align:null},"Core"),(0,r.yg)("th",{parentName:"tr",align:null},"Growth"),(0,r.yg)("th",{parentName:"tr",align:null},"Scale"),(0,r.yg)("th",{parentName:"tr",align:null},"Unlimited"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Runs"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum number of runs allowed per month"),(0,r.yg)("td",{parentName:"tr",align:null},"Unlimited"),(0,r.yg)("td",{parentName:"tr",align:null},"100"),(0,r.yg)("td",{parentName:"tr",align:null},"2,000"),(0,r.yg)("td",{parentName:"tr",align:null},"5,000"),(0,r.yg)("td",{parentName:"tr",align:null},"10,000"),(0,r.yg)("td",{parentName:"tr",align:null},"Unlimited")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Workflow Execution Duration"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum time a workflow can run before being killed"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"60 secs"),(0,r.yg)("td",{parentName:"tr",align:null},"5 mins"),(0,r.yg)("td",{parentName:"tr",align:null},"20 mins"),(0,r.yg)("td",{parentName:"tr",align:null},"30 mins"),(0,r.yg)("td",{parentName:"tr",align:null},"30 mins")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Memory Usage"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum memory allowed per workflow attempt"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"128MB"),(0,r.yg)("td",{parentName:"tr",align:null},"256MB"),(0,r.yg)("td",{parentName:"tr",align:null},"512GB"),(0,r.yg)("td",{parentName:"tr",align:null},"1GB"),(0,r.yg)("td",{parentName:"tr",align:null},"1GB")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Dataclip Size"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum size for data clips persisted run states"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"512KB"),(0,r.yg)("td",{parentName:"tr",align:null},"2MB"),(0,r.yg)("td",{parentName:"tr",align:null},"10MB"),(0,r.yg)("td",{parentName:"tr",align:null},"10MB"),(0,r.yg)("td",{parentName:"tr",align:null},"10MB")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"AI Assistant"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum AI tokens available"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"500K"),(0,r.yg)("td",{parentName:"tr",align:null},"1.5M"),(0,r.yg)("td",{parentName:"tr",align:null},"5M"),(0,r.yg)("td",{parentName:"tr",align:null},"10M"),(0,r.yg)("td",{parentName:"tr",align:null},"10M")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Data Collections (Storage)"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum storage for data collections"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"1MB"),(0,r.yg)("td",{parentName:"tr",align:null},"5MB"),(0,r.yg)("td",{parentName:"tr",align:null},"10MB"),(0,r.yg)("td",{parentName:"tr",align:null},"50MB"),(0,r.yg)("td",{parentName:"tr",align:null},"50MB")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Data Collections (Number)"),(0,r.yg)("td",{parentName:"tr",align:null},"Maximum number of data collections per project"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"2"),(0,r.yg)("td",{parentName:"tr",align:null},"5"),(0,r.yg)("td",{parentName:"tr",align:null},"10"),(0,r.yg)("td",{parentName:"tr",align:null},"Unlimited"),(0,r.yg)("td",{parentName:"tr",align:null},"Unlimited")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:null},"Concurrency Control"),(0,r.yg)("td",{parentName:"tr",align:null},"Allowing users to control concurrency limits for the project"),(0,r.yg)("td",{parentName:"tr",align:null},"Configurable"),(0,r.yg)("td",{parentName:"tr",align:null},"Yes"),(0,r.yg)("td",{parentName:"tr",align:null},"Yes"),(0,r.yg)("td",{parentName:"tr",align:null},"Yes"),(0,r.yg)("td",{parentName:"tr",align:null},"Yes"),(0,r.yg)("td",{parentName:"tr",align:null},"Yes")))),(0,r.yg)("admonition",{title:"Increasing limits for cloud hosted and managed instances",type:"tip"},(0,r.yg)("p",{parentName:"admonition"},"For standard plans, you can increase your limits by upgrading to a higher plan\nby following the\n",(0,r.yg)("a",{parentName:"p",href:"/documentation/hosted/overview#upgrading-your-subscription"},"upgrade plan instructions"),"."),(0,r.yg)("p",{parentName:"admonition"},"For custom limits or upgrades in dedicated deployments, contact\n",(0,r.yg)("a",{parentName:"p",href:"mailto:enterprise@openfn.org."},"enterprise@openfn.org.")," ")),(0,r.yg)("h2",{id:"workflow-execution-duration-1-hour"},"Workflow execution duration (1 hour)"),(0,r.yg)("p",null,"Each workflow attempt needs to complete in less than ",(0,r.yg)("inlineCode",{parentName:"p"},"1 hour"),". You can view the\nduration of each attempt by clicking on the attempt ID. If an attempt exceeds\nthis limit, it will be killed by the worker and you'll see a ",(0,r.yg)("inlineCode",{parentName:"p"},"Killed:Timeout"),"\nbadge as your attempt state."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("em",{parentName:"p"},"Instance superusers can control this limit the ",(0,r.yg)("inlineCode",{parentName:"em"},"MAX_RUN_DURATION")," environment\nvariable."))),(0,r.yg)("h2",{id:"memory-usage-1gb"},"Memory Usage (1GB)"),(0,r.yg)("p",null,"Each workflow attempt may not use more than ",(0,r.yg)("inlineCode",{parentName:"p"},"1GB")," of memory. You can view the\nmaximum memory usage of each attempt by clicking on the attempt ID. If an\nattempt exceeds this limit, it will be killed by the worker and you'll see a\n",(0,r.yg)("inlineCode",{parentName:"p"},"Killed:OOM")," badge as your attempt state."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("em",{parentName:"p"},"Instance superusers can control this limit via the ",(0,r.yg)("inlineCode",{parentName:"em"},"MAX_RUN_MEMORY"),"\nenvironment variable."))),(0,r.yg)("h2",{id:"dataclip-size-10mb"},"Dataclip Size (10MB)"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Each ",(0,r.yg)("strong",{parentName:"li"},"webhook request")," to a trigger URL cannot exceed ",(0,r.yg)("inlineCode",{parentName:"li"},"10MB"),"."),(0,r.yg)("li",{parentName:"ol"},"If you are persisting the final state of each ",(0,r.yg)("strong",{parentName:"li"},"run")," as a dataclip, each\ndataclip may not exceed ",(0,r.yg)("inlineCode",{parentName:"li"},"10MB"),".")),(0,r.yg)("p",null,"If you send a payload to a webhook trigger URL which breaches this limit, the\nserver will respond with a ",(0,r.yg)("inlineCode",{parentName:"p"},"413")," error with a ",(0,r.yg)("inlineCode",{parentName:"p"},":request_entity_too_large"),"\nmessage."),(0,r.yg)("p",null,"If the dataclips produced by the final state of runs and attempts are too large,\nthey will not be persisted. The worker will still process downstream steps but\nthese steps will not be retryable because Lightning won't save a copy of the\ndataclips. You will see an ",(0,r.yg)("inlineCode",{parentName:"p"},"ERROR: DataClip too large for storage")," error in your\nattempt logs."),(0,r.yg)("blockquote",null,(0,r.yg)("p",{parentName:"blockquote"},(0,r.yg)("em",{parentName:"p"},"Instance superusers can control this limit via the ",(0,r.yg)("inlineCode",{parentName:"em"},"MAX_DATACLIP_SIZE"),"\nenvironment variable."))))}d.isMDXComponent=!0},15680:(e,t,n)=>{n.d(t,{xA:()=>m,yg:()=>y});var a=n(96540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},l=Object.keys(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(a=0;a<l.length;a++)n=l[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var g=a.createContext({}),p=function(e){var t=a.useContext(g),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},m=function(e){var t=p(e.components);return a.createElement(g.Provider,{value:t},e.children)},u="mdxType",d={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},s=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,l=e.originalType,g=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),u=p(n),s=r,y=u["".concat(g,".").concat(s)]||u[s]||d[s]||l;return n?a.createElement(y,i(i({ref:t},m),{},{components:n})):a.createElement(y,i({ref:t},m))}));function y(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var l=n.length,i=new Array(l);i[0]=s;var o={};for(var g in t)hasOwnProperty.call(t,g)&&(o[g]=t[g]);o.originalType=e,o[u]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}s.displayName="MDXCreateElement"}}]);